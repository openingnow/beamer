% Copyright 2003, 2004 by Till Tantau <tantau@users.sourceforge.net>.
%
% This program can be redistributed and/or modified under the terms
% of the GNU Public License, version 2.

\section{Frames and Overlays}

\label{section-overlay}

This section explains how you can create frames and overlays.



\subsection{Guidelines}
\label{section-frame-guidelines}

In the following, I sketch some guidelines that I stick to on what to
put on slides and what not to put. You can certainly break any of
these guidelines, but you should be aware of it when you ignore a rule
and you should be able to justify it to yourself. The central rule of
typography also applies to creating presentations:
\emph{Every rule can be broken, but no rule may be ignored.}


\subsubsection{Frame Content}

\begin{itemize}
\item
  A frame with too little on it is better than a frame with too much
  on it.
\item
  A usual frame should have between 20 and 40 words. The
  maximum should be at about 80 words.
\item
  Do not assume that everyone in the audience is an expert on the
  subject matter. Even if the
  people listening to you should be experts, they may last have heard
  about things you consider obvious several years ago. You should
  always have the time for a quick reminder of what exactly a
  ``semantical complexity class'' or an ``$\omega$-complete partial
  ordering'' is.
\item
  Never put anything on a slide that you are not going to explain
  during the talk, not even to impress anyone with how
    complicated your subject matter really is. However, you may
  explain things that are not on a slide.
\item
  Keep it simple. Typically, your audience will see a slide for less
  than 50 seconds. They will not have the time to puzzle through long
  sentences or complicated formulas.
\end{itemize}


\subsubsection{Frame Titles}

\begin{itemize}
\item
  Put a title on each frame. The title explains the contents of the
  frame to people who did not follow all details on the slide.
\item
  The title should really \emph{explain} things, not just give a
  cryptic summary that cannot be understood unless one has understood
  the whole slide. For example, a title like ``The Poset'' will have
  everyone puzzled what this slide might be about. Titles like
  ``Review of the Definition of Partially Ordered Sets (Posets)'' or
  ``A Partial Ordering on the Columns of the Genotype Matrix'' are
  \emph{much} more informative.
\item
  Ideally, titles on consecutive frames should ``tell a story'' all by
  themselves.
\item
  In English, you should \emph{either} \emph{always} capitalize all words in
  a frame title except for words like ``a'' or ``the'' (as in a
  title), \emph{or} you \emph{always} use the normal lowercase
  letters. Do \emph{not} mix this; stick to one rule. The same is true
  for block titles. For example, do not use titles like ``A short
  Review of Turing machines.'' Either use ``A Short Review of Turing
  Machines.'' or ``A short review of Turing machines.'' (Turing is
  still spelled with a capital letter since it is a name).
\item
  In English, the title of the whole document should be
  capitalized, regardless of whether you capitalize anything else.
\item
  In German and other languages that have lots of capitalized words,
  always use the correct upper-/lowercase letters. Never capitalize
  anything in addition to what is usually capitalized.
\end{itemize}



\subsubsection{Frame Text}

\begin{itemize}
\item
  Use short sentences.
\item
  Prefer phrases over complete sentences. For example,
  instead of ``The figure on the left shows a Turing machine, the
  figure on the right shows a finite automaton.''\ try ``Left: A Turing
  machine. Right: A finite automaton.'' Even better, turn this into an
  itemize or a description.
\item
  Punctuate correctly: no punctuation after phrases, complete
  punctuation in and after complete sentences.
\item
  \emph{Never} use a smaller font size to ``fit more on a frame.''
  \emph{Never ever} use the \emph{evil} option |shrink|.
\item
  Do not hyphenate words. If absolutely necessary, hyphenate words
  ``by hand,'' using the command~|\-|.
\item
  Break lines ``by hand'' using the command~|\\|. Do not rely on
  automatic line breaking. Break where there is a logical pause. For 
  example, good breaks in ``the tape alphabet is larger
  than the input alphabet'' are before ``is'' and before the second
  ``the.'' Bad breaks are before either ``alphabet'' and before
  ``larger.''
\item
  Text and numbers in figures should have the \emph{same} size as
  normal text. Illegible numbers on axes usually ruin a chart and its
  message.
\item
  Do not use the option |allowframebreaks| except for long
  bibliographies. Do not use long bibliographies.
\item
  Lance Forthnow claims: PowerPoint users give better talks. His
  reason: Since PowerPoint is so bad at typesetting math, they use
  less math, making their talks easier to understand.

  There is some truth in this in my opinion. The great
  math-typesetting capabilities of \TeX\ can easily lure you into
  using many more formulas than is necessary and healthy. For example,
  instead of writing {\catcode `|=12``Since $\left|\{x \in \{0,1\}^*
  \mid x \sqsubseteq y\}\right| < \infty$}, we have\dots''\ use ``Since
  $y$ has only finitely many prefixes, we have\dots''

  You will be suprised how much mathematical text can be reformulated
  in plain English or can just be omitted. Naturally, if some
  mathematical argument is what you are actually talking about, as in
  a math lecture, make use of \TeX's typesetting capabilities to your
  heart's content. 
\end{itemize}

Guidelines on structuring individual frames are given in
Section~\ref{section-guidelines-local}. 









\subsection{Frames}

\subsubsection{Creating a Frame}

A presentation consists of a series of frames. Each frame consists of
a series of slides. You create a frame using the command
|\frame| or the environment |frame|, which do the same. The command
takes one parameter, namely the contents of the frame. All of the
text that is not tagged by overlay specifications is shown on all
slides of the frame. (Overlay specifications is explain
in more detail in later subsections. For the moment, let's just say
that an overlay specification is a list of number or number ranges in
pointed brackets that is put after certain commands as in
|\uncover<1,2>{Text}|.) If a frame contains commands that have an
overlay specification, the frame will contain multiple slides;
otherwise it contains only one slide.

\begin{environment}{{frame}\sarg{overlay specification}%
    \opt{|[<|\meta{default overlay specification}|>]|}\oarg{options}}
  The \meta{overlay specification} dictates which slides of a frame are
  to be shown. If left out, the number is calculated automatically.
  The \meta{environment contents} can be normal \LaTeX\ text, but may not contain
  |\verb| commands or |verbatim| environments, unless the
  |containsverbatim| options is given, see also
  Section~\ref{section-verbatim}. 
 
  The normal \LaTeX\ command |\frame| is available \emph{inside}
  frames with its usual meaning. Both outside and inside frames it is
  always available as {\color{red!75!black}|\framelatex|}. 
 
  \example
\begin{verbatim}
\begin{frame}
  \frametitle{A title}
  Some content.
\end{frame}
\end{verbatim}
  
  \example
\begin{verbatim}
\begin{frame}<beamer>  % frame is only shown in beamer mode
  \frametitle{Outline}
  \tabelofcontent[current]
\end{frame}
\end{verbatim}

  Normally, the complete \meta{environment contents} is put on a slide. If
  the text does not fit on a slide, being too high, it will be
  squeezed as much as possible, a warning will be issued, and the text
  just extends unpleasantly over the bottom. You can use the option
  |allowframebreaks| to cause the \meta{frame text} to be split among several
  slides, though you cannot use overlays then. See the explanation of
  the |allowframebreaks| option for details. 
  
  The \meta{default overlay specification} is an optional argument
  that is ``detected'' according to the following rule: If the first
  optional argument in square brackets starts with a |<|, then this
  argument is a \meta{default overlay specification}, otherwise it is
  a normal \meta{options} argument. Thus |\begin{frame}[<+->][plain]| would
  be legal, but also |\begin{frame}[plain]|.

  The effect of the \meta{default overlay specification} is the
  following: Every command or environment \emph{inside the frame} that
  accepts an action specification, see
  Section~\ref{section-action-specifications}, (this includes the
  |\item| command, the |actionenv| environment, |\action|, and all
  block environments) and that is not followed by 
  an overlay specification gets the \meta{default overlay
    specification} as its specification. By providing an incremental
  specification like |<+->|, see Section~\ref{section-incremental},
  this will essentially cause all blocks and all enumerations to be
  uncovered piece-wise (blocks internally employ action
  specifications).
  
  \example In this frame, the theorem is shown from the first slide
  on, the proof from the second slide on, with the first two itemize
  points shown one after the other; the last itemize point is shown
  together with the first one. In total, this frame will contain four
  slides.
\begin{verbatim}
\begin{frame}[<+->]
  \begin{theorem}
    $A = B$.
  \end{theorem}
  \begin{proof}
    \begin{itemize}
    \item Clearly, $A = C$.
    \item As shown earlier,  $C = B$.
    \item<3-> Thus $A = B$.
    \end{itemize}
  \end{proof}
\end{frame}
\end{verbatim}
 
  The following \meta{options} may be given:
  \begin{itemize}
  \item
    \declare{|allowdisplaybreaks|}\opt{|=|\meta{break
    desirability}} causes the AMS\TeX\ command
    |\allowdisplaybreaks|\penalty0|[|\meta{break desirability}|]| to be issued
    for the current frame. The \meta{break desirability} can be a
    value between 0 (meaning formulas may never be broken) and 4 (the
    default, meaning that formulas can be broken anywhere without any
    penalty). The option is just a convenience and makes sense only
    together with the |allowsframebreaks| option.  
  \item
    \declare{|allowframebreaks|}\opt{|=|\meta{fraction}}. When this option is
    given, the frame will be automatically broken up into several
    frames if the text does not fit on a single slide. In detail, when this
    option is given, the following things happen:
    \begin{enumerate}
    \item
      Overlays are not supported.
    \item
      If your frame contains verbatim text, you can and must specify the
      option |containsverbatim|. Since overlays are not supported
      anyway, specifying this option never hurts.
    \item
      Any notes for the frame created using the |\note| command will
      be inserted after the first page of the frame.
    \item
      Any footnotes for the frame will be inserted on the last page of
      the frame.
    \item
      If there is a frame title, each of the pages will have this
      frame title, with a special note added indicating which page of
      the frame that page is. By default, this special note is a
      Roman number. However, this can be changed by changing the
      continutation template, see Section~\ref{section-continuation}. 
    \end{enumerate}
    If a frame needs to be broken into several pages, the material on
    all but the last page fills only 95\% of each page by
    default. Thus, there will be some space left at the top and/or
    bottom, depending on the vertical placement option for the
    frame. This yields a better visual result than a 100\% filling,
    which typically looks crowded. However, you can change this
    percentage using the optional argument \meta{fraction}, where 1
    means 100\% and 0.5 means 50\%. This percentage includes
    the frame title. Thus, in order to split a frame ``roughly in
    half,'' you should give 0.6 as \meta{fraction}.

    Most of the fine details of normal \TeX\ page breaking also apply
    to this option. For example, when you wish equations to be broken
    automatically, be sure to use the |\allowdisplaybreaks|
    command. You can insert |\break|, |\nobreak|, and |\penalty|
    commands to control where breaks should occur. The commands 
    |\pagebreak| and |\nopagebreak| also work, including their
    options. Since you typically do not want page breaks for the frame
    to apply also to the |article| mode, you can add a mode
    specification like |<presentation>| to make these commands apply
    only to the presentation modes. The command
    \declare{|\string\framebreak|} is a shorthand for
    |\pagebreak<presentation>| and \declare{|\string\noframebreak|} is
    a shorthand for |\nopagebreak<presentation>|.

    The use of this  option \emph{evil}. In a (good) presentation you
    prepare each slide carefully and think twice before putting something
    on a certain slide rather than on some different slide. Using the
    |allowframebreaks| option invites the creation of horrible, endless
    presentations that resemble more a ``paper projected on the wall''
    than a presentation. Nevertheless, the option does have its
    uses. Most noticably, it can be convenient for automatically
    splitting bibliographies or long equations.

    \example
\begin{verbatim}
\begin{frame}[allowframebreaks]
  \frametitle{References}

  \begin{thebibliography}{XX}

  \bibitem...
  \bibitem...
    ...
  \bibitem...
  \end{thebibliography}
\end{frame}
\end{verbatim}
    \example
\begin{verbatim}
\begin{frame}[allowframebreaks,allowdisplaybreaks]
  \frametitle{A Long Equation}

  \begin{align}
    \zeta(2) &= 1 + 1/4 + 1/9 + \cdots \\
    &= ... \\
    ...
    &= \pi^2/6.
  \end{align}
\end{frame}
\end{verbatim}
  \item
    \declare{|b|}, \declare{|c|}, \declare{|t|} will cause the frame
    to be vertically aligned at the bottom/center/top. This overrides
    the global placement policy, which is governed by the class
    options |slidestop| and |slidescentered|.
  \item
    \declare{|containsverbatim|} tells \beamer\ that the frame
    contains verbatim commands. In this case, only one slide of
    the frame is typeset (unless all slides are suppressed by the
    \meta{overlay specification}). If you wish to use verbatim text in
    a frame with several slides, a more roundabout approach is
    necessary, see Section~\ref{section-verbatim}. This option cannot
    be used together with the |label| option.
    
  \item
    \declare{|label=|\meta{name}} causes the frame's contents to
    be stored under the name \meta{name} for later resumption using
    the command |\againframe|. If this option is given, you cannot
    directly include verbatim text in the frame. The frame is still rendered
    normally. See also |\againframe|.

    Furthermore, on each slide of the frame a label with the name
    \meta{name}|<|\meta{slide number}|>| is created. On the
    \emph{first} slide, furthermore, a label with the name \meta{name}
    is created (so the labels \meta{name} and \meta{name}|<1>| point
    to the same slide). Note that labels in general, and these labels
    in particular, can be used as targets for hyperlinks.
  \item
    \declare{|plain|} causes  the headlines, footlines,
    and sidebars to be suppressed. This is useful for creating single
    frames with different head- and footlines or for creating frames
    showing big pictures that completely fill the frame.

  \example A frame with a picture completely filling the frame:  
\begin{verbatim}
\begin{frame}[plain]
  \begin{centering}%
    \pgfimage[height=\paperheight]{somebigimagefile}%
    \par%
  \end{centering}%
\end{frame}
\end{verbatim}
  
  \example A title page, in which the head- and footlines are replaced
  by two graphics.
\begin{verbatim}
\usetitlepagetemplate{
  \pgfuseimage{toptitle}
  \vskip0pt plus 1filll

  \begin{centering}
    \Large{\textbf{\inserttitle}}
    
    \insertdate
  \end{centering}

  \vskip0pt plus 1filll
  \pgfuseimage{bottomtitle}
}
\begin{frame}[plain]
  \titlepage
\end{frame}
\end{verbatim}
  \item
    \declare{|shrink|}\opt{|=|\meta{minimum shrink percentage}}. This
    option will cause the text of the frame to be shrunken if it is
    too large to fit on the frame. \beamer\ will first normally
    typeset the whole frame. Then it has a look at vertical size of
    the frame text (excluding the frame title). If this vertical size
    is larger than  the text height minus the frame title height,
    \beamer\ computes a shrink factor and scales down the frame text
    by this factor such that the frame text then fills the frame
    completely. Using this option will automatically cause the
    |squeeze| option to be used, also.

    Since the shrinking takes place only after everything has been
    typeset, shrunken frame text will not fill the frame completely
    horizontally. For this reason, you can specify a \meta{minimum
    shrink percentage} like |20|. If this percentage is specified, the
    frame will be shrunk by \emph{at least} by this percentage. Since
    \beamer\ knows this, it can increase the horizontal width
    proportionally such that the shrunken text once more fills the
    entire frame. If, however, the percentage is not enough, the text
    will be shrunken as needed and you will be punished with a warning
    message.

    The best way to use this option is to identify frames that are
    overly full, but in which all text absolutely has to be fit on a
    single frame. Then start specifying first |shrink=5|, then
    |shrink=10|, and so on, until no warning is issued any more (or
    just ignore the warning when things look satisfactory).

    Using this option is \emph{very evil}. It will
    result in changes of the font size from slide to slide, which is a
    typographic nightmare. Its usage can \emph{always} be avoided by
    restructuring and simplifying frames, which will result in a
    better presentation.

    \example
\begin{verbatim}
\begin{frame}[shrink=5]
  Some evil endless slide that is 5\% too large.
\end{frame}
\end{verbatim}
  \item
    \declare{|squeeze|} causes all vertical spaces in the text to be
    squeezed together as much as possible. Currently, this just causes
    the vertical space in enumerations or itemizations to be reduced
    to zero.

    Using this option is not good, but also not evil.   
  \end{itemize}

  \lyxnote
  Use the style ``BeginFrame'' to start a frame and the style
  ``EndFrame'' to end it. A frame is automatically ended by the start
  of a new frame and by the start of a new section or subsection (but
  not by the end of the document!).

  \lyxnote
  You can pass options and an overlay specification to a frame by
  giving these in \TeX-mode as the first thing in the frame
  title. (Some magic is performed to extract them in \LyX-mode from
  there.)

  \lyxnote
  The style ``BeginPlainFrame'' is included as a convenience. It
  passes the |plain| option to the frame. To pass further options to a
  plain frame, you should use the normal ``BeginFrame'' style and
  specify all options (including |plain|).

  \lyxnote
  In \LyX, you can insert verbatim text directly even in overlayed
  frames. The reason is that \LyX\ uses a different internal mechanism
  for typesetting verbatim text, that is easier to handle for \beamer.

  \articlenote
  In |article| mode, the |frame| environment does not create any visual
  reference to the original frame (no frame is drawn). Rather, the
  frame text is inserted into the normal text. To change this, you can
  modify the frame template, see
  Section~\ref{section-frame-template}. To suppress a frame in
  |article| mode, you can, for example, specify |<presentation>| as
  overlay specification. 
\end{environment}

\begin{command}{\frame\sarg{overlay specification}%
    \opt{|[<|\meta{default overlay
        specification}|>]|}\oarg{options}\marg{contents}}
  This command does the same as putting the \meta{contents} in a
  |frame| environment called.

  \example The following two frame will be identical:
\begin{verbatim}
\frame{Hi!}

\begin{frame}
  Hi!
\end{frame}
\end{verbatim}
\end{command}

Internally, the |\frame| command is what is actually executed. The
|frame| environment just collects its environment contents and then
calls the |\frame| command; except if the option |containsverbatim|
is specified, in which case the contents is not collected, but
control is nevertheless passed on the |\frame| (the internals are a
bit obscure). You \emph{can} use the |frame| environment inside other
environments like this:
\begin{verbatim}
\newenvironment{myframe}[1]{\begin{frame}\frametitle{#1}}{\end{frame}}
\end{verbatim}
However, the actual mechanics are somewhat fragile since the
``collecting'' of the frame contents is not easy, so
do not attempt anything too fancy.

If, for whatever reason, the |frame| environment has a problem with
some contents, it \emph{might} help to try using the |\frame|
command instead.

For compatibility with earlier versions, you can also give an overlay
specification in square brackets. If the sole argument to the |\frame|
command is an argument in square brackets, the \beamer\ class will try
to check whether this argument ``looks like'' an overlay
specification. If so, it is assumed to be an overlay specification.



\subsubsection{Components of a Frame}

Each frame consists of several components:
\begin{enumerate}\itemsep=0pt\parskip=0pt
\item a headline,
\item a footline,
\item a left sidebar,
\item a right sidebar,
\item navigation symbols,
\item a logo,
\item a frame title, and
\item some frame contents.
\end{enumerate}

A frame need not have all of these components. Usually, the first six
components are automatically setup by the theme you are
using. To change them, you must install an appropriate template, see
Section~\ref{section-head-templates} for the head- and footlines and
Section~\ref{section-sidebar-templates} for the sidebars. To install
a logo, invoke the following command in the preamble, \emph{after}
having loaded the theme:

\begin{command}{\logo\marg{logo text}}
  The \meta{logo text} is usually a command for including a
  graphic.
  \example
\begin{verbatim}
\pgfdeclareimage[height=0.5cm]{logo}{tu-logo}
\logo{\pgfuseimage{logo}}
\end{verbatim}

  \articlenote This command has no effect.
\end{command}

The frame title is shown prominently at the top of the frame and can
be specified with the following command:

\begin{command}{\frametitle\sarg{overlay specification}\oarg{short
  frame title}\marg{frame title text}} 
  You should end the \meta{frame title text} with a period, if the title is a
  proper sentence. Otherwise, there should not be a period. The
  \meta{short frame title} is normally not shown, but its available
  via the |\insertshortframetitle| command. The \meta{overlay
  specification} is mostly useful for suppressing the frame title in
  |article| mode.

  \example
\begin{verbatim}
\begin{frame}
  \frametitle{A Frame Title is Important.}
  \framesubtitle{Subtitles are not so important.}

  Frame contents.
\end{frame}
\end{verbatim}

  If you are using the |allowframebreaks| option with the current frame,
  a continuation text (like ``(cont.)'' or something similar,
  depending on the continuation template) is automatically added to
  the \meta{frame title text} at the end.

  \beamernote
  The frame title is not typeset immediately when the command
  |\frametitle| is encountered. Rather, the argument of the command is
  stored internally and the frame title is only typeset when the
  complete frame has been read. This gives you access to both the
  \meta{frame title text} and to the \meta{subframe title text} that
  is possibly introduced using the |\framesubtitle| command.

  \articlenote
  By default, this command creates a new paragraph in |article| mode,
  entitled \meta{frame title text}. Using the \meta{overlay
    specification} makes it easy to suppress the a frame title once in
  a while. If you generally wish to suppress \emph{all} frame
  titles in |article| mode, say |\useframetitletemplate{}|.

  \lyxnote
  The frame title is the text that follows on the line of the
  ``BeginFrame'' style.
\end{command}

\begin{command}{\framesubtitle\sarg{overlay specification}\marg{frame
      subtitle text}}
  If present, a subtitle will be shown in a smaller font below the
  main title. Like the |\frametitle| command, this command can be
  given anywhere in the frame, since the frame title is actually
  typeset only when everything else has already been typeset.
  
  \example
\begin{verbatim}
\begin{frame}
  \frametitle<presentation>{Frame Title Should Be in Uppercase.}
  \framesubtitle{Subtitles can be in lowercase if they are full sentences.}

  Frame contents.
\end{frame}
\end{verbatim}

  \articlenote
  By default, the subtitle is not shown in any way in |article| mode.
\end{command}

Be default, all material for a slide is vertically centered. You can
change this using the following class options:

\begin{classoption}{slidestop}
  Place text of slides at the (vertical) top of the slides. This
  corresponds to a vertical ``flush.'' You can override this for
  individual frames using the |c| or |b| option.
\end{classoption}

\begin{classoption}{slidescentered}
  Place text of slides at the (vertical) center of the slides. This is
  the default. You can override this for
  individual frames using the |t| or |b| option.
\end{classoption}



\subsubsection{Margin Sizes}

The ``paper size'' of a \beamer\ presentation is fixed to 128mm times
96mm. The aspect ratio of this size is 4:3, which is exactly what most
beamers offer these days. It is the job of the
presentation program (like |acroread| or |xpdf|) to display the slides
at full screen size. The main advantage of using a small ``paper size''
is that you can use all your normal fonts at their natural sizes. In
particular, inserting a graphic with 11pt labels will result in
reasonably sized labels during the presentation.

You should refrain from changing the ``paper size.'' However, you
\emph{can} change the size of the left and right margins, which
default to 1cm. To change them, you should use the following two
commands:

\begin{command}{\beamersetleftmargin\marg{left margin dimension}}
  Sets a new left margin. This excludes the left sidebar. Thus, it is
  the distance between the right edge of the left sidebar and the left
  edge of the text. This command can only be used in the preamble
  (before the |document| environment is used).
  \example |\beamersetleftmargin{1cm}|

  \articlenote
  This command has no effect in |article| mode.
\end{command}

\begin{command}{\beamersetrightmargin\marg{left margin dimension}}
  Like |\beamersetleftmargin|, only for the right margin.
\end{command}

For more information on sidebars, see
Section~\ref{section-sidebar-templates}. 



\subsubsection{Restricting the Slides of a Frame}
\label{subsection-restriction}

The number of slides in a frame is automatically
calculated. If the largest number mentioned in any
overlay specification inside the frame is 4, four slides are
introduced (despite the fact that a specification like |<4->|
might suggest that more than four slides would be possible).

You can also specify the number of slides in the frame ``by hand.'' To
do so, you pass an overlay specification the |\frame| command. The
frame will contain only the slides specified in this
argument. Consider the following example. 

\begin{verbatim}
\begin{frame}<1-2,4->
  This is slide number \only<1>{1}\only<2>{2}\only<3>{3}%
  \only<4>{4}\only<5>{5}.
\end{frame}
\end{verbatim}
This command will create a frame containing four slides. The first
will contain the text ``This is slide number~1,'' the second ``This is
slide number~2,'' the third ``This is slide number~4,'' and the fourth
``This is slide number~5.''

A useful specification is just |<0>|, which causes the frame to
have to no slides at all. For example, |\begin{frame}<handout:0>| causes
the frame to be suppressed in the handout version, but to be shown
normally in all other versions. Another useful specification is
|<beamer>|, which causes the frame to be shown normally in |beamer|
mode, but to be suppressed in all other versions.


\subsubsection{Verbatim Commands and Listings inside Frames}
\label{section-verbatim}

The |\verb| command, the |verbatim| environment, the
|lstlisting| environment, and related environments that allow
you to typeset arbitrary text work only in
frames that contain a single slide or that are suppressed
altogether. Furthermore, you must explicitly specify that the frame
contains verbatim text using the |containsverbatim| commans:
\begin{verbatim}
\begin{frame}[containsverbatim]
  \frametitle{Our Search Procedure}

\begin{verbatim}
  int find(int* a, int n, int x)
  {
    for (int i = 0; i<n; i++)
      if (a[i] == x)
        return i;
  }
\end{verbatim}
\unskip{\MacroFont|\end{verbatim}|}
                                %\begin{verbatim}
\begin{verbatim}
\end{frame}
\end{verbatim}

You may \emph{not} use the |label=|\meta{label name} option if you
have a verbatim text on a slide.

If you need to use verbatim commands in frames that contain several
slides or on a frame that uses the |label| option, you must
\emph{declare} your verbatim texts before the frame starts. This is
done using two special commands:


\begin{command}{\defverb\marg{command name}\opt{|*|}%
    \meta{delimiter symbol}\meta{verbatim text}\meta{delimiter symbol}}
  Declares a verbatim text for later use. The declaration should be
  done outside the frame. Once declared, the text can be used
  in overlays like normal text. The one-line \meta{verbatim text} must
  be delimited by a special \meta{delimiter symbol} (works like the
  |\verb| command). Adding a star makes spaces visible.

\example
\begin{verbatim}
\defverb\mytext!int main (void) { ...!
\defverb\mytextspaces*!int  main  (void ){  ...!

\begin{frame}
  \begin{itemize}
  \item<1-> In C you need a main function.
  \item<2-> It is declare like this: \mytext
  \item<3-> Spaces are not important: \mytextspaces
  \end{itemize}
\end{frame}
\end{verbatim}
\end{command}


\begin{command}{\defverbatim\oarg{options}\marg{command name}\marg{text}}
  The \meta{text} may contain a |verbatim|,  |verbatim*|,
  |lstlisting|, or a related environment. The command \marg{command
    name} can be used later inside frames. The declaration
  should be done outside the frame. Once declared, the text can be
  used in overlays like normal text.

  The following \meta{options} may be given:
  \begin{itemize}
  \item
    \declare{|colored|} declares that the verbatim text will have
    its ``own'' colors. Normally, the verbatim text is typeset using
    the current color, which allows you to use commands like |\alert|
    to make verbatim text red on certain slides. However, if the
    verbatim text has, say, a special background color or different
    parts of it a colored differently (the |lstlisting| environment
    does this), then you do \emph{not} want the verbatim text to
    inherit its color from the ``outside.'' In this case, you should
    give the |colored| option.
  \item
    \declare{|width=|\meta{dimension}} sets the width of the verbatim
    box. The default is the text width at the moment when the
    |\defverbatim| command is used; but this will be too large if
    the box is used inside a |columns| environment later on. In such a
    case you can use this option to specify the width the box will
    later need to have.
  \end{itemize}  

  \example
\begin{verbatim}
\defverbatim\algorithmA{
\begin{verbatim}
int main (void)
{
  cout << "Hello world." << endl;
  return 0;
}
\end{verbatim}
\unskip{\MacroFont|\end{verbatim}|}
\begin{verbatim}
}

\defverbatim[colored]\algorithmB{
\begin{lstlisting}[language={C++},backgroundcolor=\color{yellow}]
int main (void)
{
  cout << "Hello world." << endl;
  return 0;
}
\end{lstlisting}
}

\begin{frame}
  Our algorithm:
  \alert<1>{\algorithmA}
  \uncover<2>{Note the return value.}
\end{frame}

\begin{frame}
  Same algorithm typeset using the lstlisting environment:
  \algorithmB
\end{frame}
\end{verbatim}
%\begin{verbatim}
\end{command}









\subsection{Creating Overlays}

\subsubsection{The Pause Commands}

The |pause| command offers an easy, but not very flexible
way of creating frames that are uncovered piecewise. If you say
|\pause| somewhere in a frame, only the text on the frame up to the
|\pause| command is shown on the first slide. On the 
second slide, everything is shown up to the second |\pause|, and
so forth. You can also use |\pause| inside environments; its effect
will last after the environment. However, taking this to
extremes and use |\pause| deeply within a nested environment may not
have the desired result.

A much more fine-grained control over what is shown on each slide can
be attained using overlay specifications, see the next
subsections. However, for many simple cases the |\pause|
command is sufficient.
 
The effect of |\pause| lasts till the next |\pause|, |\onslide|, or
the end of the frame.   

\begin{verbatim}
\begin{frame}
  \begin{itemize}
  \item
    Shown from first slide on.
  \pause
  \item
    Shown from second slide on.
    \begin{itemize}
    \item
      Shown from second slide on.
    \pause
    \item
      Shown from third slide on.
    \end{itemize}
  \item
    Shown from third slide on.
  \pause
  \item
    Shown from fourth slide on.
  \end{itemize}

  Shown from fourth slide on.

  \begin{itemize}
  \onslide
  \item
    Shown from first slide on.
  \pause
  \item
    Shown from fifth slide on.
  \end{itemize}
\end{frame}
\end{verbatim}

\begin{command}{\pause\oarg{number}}
  This command causes the text following it to be shown only from the
  next slide on, or, if the optional \meta{number} is given,
  from the slide with the number \meta{number}. If the optional
  \meta{number} is given, the counter |beamerpauses| is set to this
  number. This command uses the |\onslide| command, internally.
  This command does \emph{not} work inside |amsmath| environments like
  |align|, since these do really wicked things.

  \example
\begin{verbatim}
\begin{frame}
  \begin{itemize}
  \item
    A    
  \pause
  \item
    B
  \pause
  \item
    C
  \end{itemize}
\end{frame}
\end{verbatim}

  \articlenote
  This command is ignored.

  \lyxnote
  Use the ``Pause'' style with an empty line to insert a pause.
\end{command}

To ``unpause'' some text, that is, to temporarily suspend pausing, use
the command |\onslide|, see below.






\subsubsection{The General Concept of Overlay Specifications}

\label{section-concept-overlays}

The approach taken by most presentation classes to overlays is
somewhat similar to the above |\pause| command. These commands get a
certain slide number as input and affect the text on the slide
following this command in a certain way. For example,
\textsc{prosper}'s |\FromSlide{2}| command causes all text following
this command to be shown only from the second slide on.

The \beamer\ class uses a different approach (though the
abovementioned command is also available: |\onslide<2->| will have the
same effect as |\FromSlide{2}|, expect that |\onslide| transcends
environments; likewise, |\pause| is internally mapped to a command
with an appropriate overlay specifications). The idea is to add
\emph{overlay specifications} to certain commands. These
specifications are always given in pointed 
brackets and follow the command ``as soon as possible,'' though in
certain cases \beamer\ also allows overlay specification to be
given a little later. In the simplest case, the specification contains
just a number. A command with an overlay
specification following it will only have ``effect'' on the slide(s)
mentioned in the specification. What exactly ``having an effect''
means, depends on the command. Consider the following example.

\begin{verbatim}
\begin{frame}
  \textbf{This line is bold on all three slides.}
  \textbf<2>{This line is bold only on the second slide.}
  \textbf<3>{This line is bold only on the third slide.}
\end{frame}
\end{verbatim}

For the command |\textbf|, the overlay specification causes the
text to be set in boldface only on the specified slides. On all other
slides, the text is set in a normal font.

For a second example, consider the following frame:
\begin{verbatim}
\begin{frame}
  \only<1>{This line is inserted only on slide 1.}
  \only<2>{This line is inserted only on slide 2.}
\end{frame}
\end{verbatim}

The command |\only|, which is introduced by \beamer, normally simply
inserts its parameter into the current frame. However, if an
overlay-specification is present, it ``throws away'' its parameter on
slides that are not mentioned. 

Overlay specifications can only be written behind certain commands,
not every command. Which commands you can use and which effects this
will have is explained in the next subsection. However, it is quite
easy to redefine an existing command such that it becomes ``overlay
specification aware,'' see also
Section~\ref{section-overlay-commands}. 

The syntax of (basic) overlay specifications is the following: They
are comma-separated lists of slides and ranges. Ranges are specified
like this: |2-5|, which means slide two through to five. The start or
the end of a range can be omitted. For example, |3-| means
``slides three, four, five, and so on'' and |-5| means the same as
|1-5|. A complicated example is |-3,6-8,10,12-15|, which selects the 
slides 1, 2, 3, 6, 7, 8, 10, 12, 13, 14, and 15.


\lyxnote
Overlay specifications can also be given in \LyX. You must give them
in \TeX-mode (otherwise the pointed brackets may be ``escaped'' by
\LyX, though this will not happen in all versions). For example, to
add an overlay specification to an item, simply insert a \TeX-mode
text like |<3>| as the first thing in that item. Likewise, you can add
an overlay specification to environments like |theorem| by giving
them in \TeX-mode right at the start of the environment. 


\subsubsection{Commands with Overlay Specifications}
\label{section-overlay-commands}
\label{subsection-overlay}

For the following commands, adding an overlay specification causes the
command to be simply ignored on slides that are not included in the
specification: |\textbf|, |\textit|, |\textsl|,
|\textrm|, |\textsf|, |\color|, |\alert|,
|\structure|. If a command takes several arguments, like
|\color|, the specification should directly follow the command as in
the following example (but there are exceptions to this rule):
\begin{verbatim}
\begin{frame}
  \color<2-3>[rgb]{1,0,0} This text is red on slides 2 and 3, otherwise black.
\end{frame}
\end{verbatim}

For the following commands, the effect of an overlay specification is
special:

\begin{command}{\onslide\opt{\meta{modifier}}\sarg{overlay specification}\opt{\marg{text}}}
  The behaviour of this command depends on whether the optional
  argument \meta{text} is given or not (note that the optional
  argument is given in \emph{normal} braces, not in square
  brackets). If present, the \meta{modifier} can be either a~|+| or
  a~|*|.

  If no \meta{text} is given, the following happens: All text
  following this command will only be shown  (uncovered) on the
  specified slides. On non-specified slides, the text still 
  occupies space. If no slides are specified, the following
  text is always shown. You need not call this command in the same
  \TeX\ group, its effect transcends block groups. However, this
  command has a \emph{different} effect inside an |overprint|
  environment, see the description of |overprint|.

  If the \meta{modifier} is |+|, hidden text will not be treated
  as covered, but as invisible. The difference is the same as the
  difference between |\uncover| and |\visible|. The modifier |*| may
  not be given if no \meta{text} argument is present.
  
  \example
\begin{verbatim}
\begin{frame}
  Shown on first slide.
  \onslide<2-3>
  Shown on second and third slide.
  \begin{itemize}
  \item
    Still shown on the second and third slide.
  \onslide+<4->
  \item
    Shown from slide 4 on.
  \end{itemize}
  Shown from slide 4 on.
  \onslide
  Shown on all slides.
\end{frame}
\end{verbatim}

  If a \meta{text} argument is present, |\onslide| (without a
  \meta{modifier}) is mapped to |\uncover|, |\onslide+|
  is mapped to |\visible|, and |\onslide*| is mapped to |\only|.

  \example
\begin{verbatim}
\begin{frame}
  \onslide<1>{Same effect as the following command.}
  \uncover<1>{Same effect as the previous command.}

  \onslide+<2>{Same effect as the following command.}
  \visible<2>{Same effect as the previous command.}

  \onslide*<3>{Same effect as the following command.}
  \only<3>{Same effect as the previous command.}  
\end{frame}
\end{verbatim}
\end{command}


\begin{command}{\only\sarg{overlay
      specification}\marg{text}\sarg{overlay specification}}
  If either \meta{overlay specification} is present (though only one
  may be present), the \meta{text} is inserted only into the specified
  slides. For other slides, the text is simply thrown away. In
  particular, it occupies no space.
  
  \example |\only<3->{Text inserted from slide 3 on.}|

  Since the overlay specification may also be given after the text,
  you can often use |\only| to make other commands
  overlay-specification-aware in a simple manner:

  \example
\begin{verbatim}
\newcommand{\myblue}{\only{\color{blue}}}
\begin{frame}
  \myblue<2> This text is blue only on slide 2.
\end{frame}
\end{verbatim}
\end{command}


\begin{command}{\uncover\sarg{overlay specification}\marg{text}}
  If the \meta{overlay specification} is present, the \meta{text} is
  shown (``uncovered'') only on the specified slides. On other slides, the
  text still occupies space and it is still typeset, but it is not
  shown or only shown as if transparent. For details on how to specify
  whether the text is invisible or just transparent see
  Section~\ref{section-transparent}. 
  \example |\uncover<3->{Text shown from slide 3 on.}|

  \articlenote
  This command has the same effect as |\only|.
\end{command}

\begin{command}{\visible\sarg{overlay specification}\marg{text}}
  This command does almost the same as |\uncover|. The only difference
  is that if the text is not shown, it is never shown in a transparent
  way, but rather it is not shown at all. Thus, for this command the
  transparency settings have no effect.
  
  \example |\visible<2->{Text shown from slide 2 on.}|

  \articlenote
  This command has the same effect as |\only|.
\end{command}

\begin{command}{\invisible\sarg{overlay specification}\marg{text}}
  This command is the opposite of |\visible|.
  
  \example |\invisible<-2>{Text shown from slide 3 on.}|
\end{command}

\begin{command}{\alt\sarg{overlay specification}%
    \marg{default text}\marg{alternative text}\sarg{overlay specification}}
  Only one \meta{overlay specification} may be given. 
  The default text is shown on the specified slides, otherwise the
  alternative text. The specification must always be present.
  \example |\alt<2>{On Slide 2}{Not on slide 2.}|

  Once more, giving the overlay specification at the end is useful
  when the command is used inside other commands.
  
  \example Here is the definition of |\uncover|:
\begin{verbatim}
\newcommand{\uncover}{\alt{\@firstofone}{\makeinvisible}}
\end{verbatim}
\end{command}

\begin{command}{\temporal\ssarg{overlay specification}%
    \marg{before slide text}\marg{default text}\marg{after slide text}}
  This command alternates between three different texts, depending on
  whether the current slide is temporally before the specified
  slides, is one of the specified slides, or comes after them. If the
  \meta{overlay specification} is not an interval (that is, if it has
  a ``hole''), the ``hole'' is considered to be part of the before slides.
  \example
\begin{verbatim}
  \temporal<3-4>{Shown on 1, 2}{Shown on 3, 4}{Shown 5, 6, 7, ...}
  \temporal<3,5>{Shown on 1, 2, 4}{Shown on 3, 5}{Shown 6, 7, 8, ...}
\end{verbatim}

  As a possible application of the |\temporal| command consider the
  following example: 
  \example
\begin{verbatim}
\def\colorize<#1>{%
  \temporal<#1>{\color{red!50}}{\color{black}}{\color{black!50}}}

\begin{frame}
  \begin{itemize}
    \colorize<1> \item First item.
    \colorize<2> \item Second item.
    \colorize<3> \item Third item.
    \colorize<4> \item Fourth item.
  \end{itemize}
\end{frame}
\end{verbatim}
\end{command}


\begin{command}{\item\sarg{alert specification}\oarg{item
      label}\sarg{alert specification}}
  \beamernote
  Only one \meta{alert specification} may be given. The effect of
  \meta{alert specification} is described in
  Section~\ref{section-action-specifications}. 
  
  \example
\begin{verbatim}
\begin{frame}
  \begin{itemize}
  \item<1-> First point, shown on all slides.
  \item<2-> Second point, shown on slide 2 and later.
  \item<2-> Third point, also shown on slide 2 and later.
  \item<3-> Fourth point, shown on slide 3.
  \end{itemize}
\end{frame}

\begin{frame}
  \begin{enumerate}
  \item<3-| alert@3>[0.] A zeroth point, shown at the very end.
  \item<1-| alert@1> The first an main point.
  \item<2-| alert@2> The second point.
  \end{enumerate}
\end{frame}
\end{verbatim}

  \articlenote
  The \meta{action specification} is currently completely ignored.

  \lyxnote
  The \meta{action specification} must be given in \TeX-mode and it
  must be given at the very start of the item.
\end{command}

The related command |\bibitem| is also overlay-specification-aware
in the same way as |\item|.

\begin{command}{\label\sarg{overlay specification}\marg{label name}}
  If the \meta{overlay specification} is present, the label is only
  inserted on the specified slide. Inserting a label on more than one
  slide will cause a `multiple labels' warning. \emph{However}, if no
  overlay specification is present, the specification is automatically
  set to just `1' and the label is thus inserted only on the first
  slide. This is typically the desired behaviour since it does not
  really matter on which slide the label is inserted, \emph{except} if
  you use an |\only| command and \emph{except} if you wish to use that
  lable as a hyperjump target. Then you need to specifiy a slide.

  Labels can be used as target of hyperjumps. A convenient way of
  labelling a frame is to use the |label=|\meta{name} option of the
  |frame| environment. However, this will cause the whole frame to be
  kept in memory till the end of the compilation, which may pose a
  problem. 
  \example
\begin{verbatim}
\begin{frame}
  \begin{align}
    a &= b + c   \label{first}\\ % no specification needed
    c &= d + e   \label{second}\\% no specification needed
  \end{align}

  Blah blah, \uncover<2>{more blah blah.}

  \only<3>{Specification is needed now.\label<3>{mylabel}}
\end{frame}
\end{verbatim}
\end{command}



\subsubsection{Environments with Overlay Specifications}

Environments can also be equipped with overlay specifications. For
most of the predefined environments, see Section~\ref{predefined},
adding an overlay specification causes the whole environment to be
uncovered only on the specified slides. This is useful for showing
things incrementally as in the following example.

\begin{verbatim}
\begin{frame}
  \frametitle{A Theorem on Infinite Sets}

  \begin{theorem}<1->
    There exists an infinite set.
  \end{theorem}

  \begin{proof}<3->
    This follows from the axiom of infinity.
  \end{proof}

  \begin{example}<2->
    The set of natural numbers is infinite.
  \end{example}
\end{frame}
\end{verbatim}
In the example, the first slide only contains the theorem, on the
second slide an example is added, and on the third slide the proof is
also shown.

For each of the basic commands |\only|, |\alt|, |\visible|,
|\uncover|, and |\invisible| there exists 
``environment versions'' |onlyenv|, |altenv|, |visibleenv|,
|uncoverenv|, and |invisibleenv|. Except for |altenv|
and |onlyenv|, these environments do the same as the commands.

\begin{environment}{{onlyenv}\sarg{overlay specification}}
  If the \meta{overlay specification} is given, the contents of the
  environment is inserted into the text only on the specified
  slides. The difference to |\only| is, that the text is actually
  typeset inside a box that is then thrown away, whereas |\only|
  immediately throws away its contents. If the text is not
  ``typesettable,'' the |onlyenv| may produce an error where |\only|
  would not.
  \example
\begin{verbatim}
\begin{frame}
  This line is always shown.
  \begin{onlyenv}<2>
    This line is inserted on slide 2.
  \end{onlyenv}
\end{frame}
\end{verbatim}
\end{environment}


\begin{environment}{{altenv}\sarg{overlay specification}\marg{begin
text}\marg{end text}\marg{alternate begin text}\marg{alternate end
text}\sarg{overlay specification}}
  Only one \meta{overlay specification} may be given. On the specified
  slides, \meta{begin text} will be inserted at the beginning of the
  environment and \meta{end text} will be inserted at the end. On all
  other slides, \meta{alternate begin text} and \meta{alternate end
    text} will be used.
  
  \example
\begin{verbatim}
\begin{frame}
  This 
  \begin{altenv}<2>{(}{)}{[}{]}
    word
  \end{uncoverenv}
  is in round brackets on slide 2 and in square brackets on slide 1.
\end{frame}
\end{verbatim}
\end{environment}


\subsubsection{Dynamically Changing Text}

You may sometimes wish to have some part of a frame change dynamically
from slide to slide. On each slide of the frame, something different
should be shown inside this area. You could achieve the effect of
dynamically changing text by giving a list of |\only| commands like this:
\begin{verbatim}
  \only<1>{Initial text.}
  \only<2>{Replaced by this on second slide.}
  \only<3>{Replaced again by this on third slide.}
\end{verbatim}
The trouble with this approach is that it may lead to slight, but
annoying differences in the heights of the lines, which may cause the
whole frame to ``whobble'' from slide to slide. This problem becomes
much more severe if the replacement text is several lines long.

To solve this problem, you can use two environments:
|overlayarea| and |overprint|. The first is more flexible,
but less user-friendly.

\begin{environment}{{overlayarea}\marg{area width}\marg{area height}}
  Everything within the environment will be placed in a rectangular
  area of the specified size. The area will have the same size on all
  slides of a frame, regardless of its actual contents. 
  \example
\begin{verbatim}
\begin{overlayarea}{\textwidth}{3cm}
  \only<1>{Some text for the first slide.\\Possibly several lines long.}
  \only<2>{Replacement on the second slide.}
\end{overlayarea}
\end{verbatim}

  \lyxnote
  Use the style ``OverlayArea'' to insert an overlay area.
\end{environment}

\begin{environment}{{overprint}\oarg{area width}}
  The \meta{area width} defaults to the text width.
  Inside the environment, use |\onslide| commands to specify
  different things that should be shown for this environment on
  different slides. The |\onslide| commands are used like
  |\item| commands. Everything within the environment will be
  placed in a rectangular area of the specified width. The height and
  depth of the area are chosen large enough to accommodate the largest
  contents of the area. The overlay specifications of the
  |\onslide| commands must be disjoint. This may be a problem for
  handouts, since, there, all overlay specifications defaul to |1|. If
  you use the option |handout|, you can disable all but one
  |\onslide| by setting the others to |0|.
  \example
\begin{verbatim}
\begin{overprint}
  \onslide<1| handout:1>
    Some text for the first slide.\\
    Possibly several lines long.
  \onslide<2| handout:0>
    Replacement on the second slide. Supressed for handout.
\end{overprint}
\end{verbatim}

  \lyxnote
  Use the style ``Overprint'' to insert an |overprint|
  environment. You have to use \TeX-mode to insert the |\onslide|
  commands. 
\end{environment}



\subsubsection{Including External Overlay Graphic Sequences}
\label{section-mpmulti}

This section describes how you can include a sequence of graphics that
reside in external files in a presentation in a convenient way.

Suppose you have a series of pictures named |first.pdf|, |second.pdf|,
and |third.pdf| that show different stages of some process. To make a
frame that shows these pictures on different slides, the following
code might be used:

\begin{verbatim}
\begin{frame}
  \frametitle{The Three Process Stages}

  \includegraphics<1>{first.pdf}
  \includegraphics<2>{second.pdf}
  \includegraphics<3>{third.pdf}
\end{frame}
\end{verbatim}

The above code uses the fact the \beamer\ makes the |\includegraphics|
command overlay-specification-aware. It works nicely, but only if each
|.pdf| file contains the complete graphic to be shown. However, some
programs, like |xfig|, sometimes also produce series of graphics in
which each file just contains the \emph{additional} graphic elements
to be shown on the next slide. In this case, the first graphic must be
shown not on overlay~1, but from overlay~1 on, and so on. While this
is easy to achieve by changing the overlay specification |<1>| to
|<1->|, the graphics must also be shown \emph{on top of each
  other}. To achieve this, you can use \TeX's |\llap| command like this:

\begin{verbatim}
\begin{frame}
  \frametitle{The Three Process Stages}

  \includegraphics<1->{first.pdf}%
  \llap{\includegraphics<2->{second.pdf}}%
  \llap{\includegraphics<3->{third.pdf}}
\end{frame}
\end{verbatim}

or like this:

\begin{verbatim}
\begin{frame}
  \frametitle{The Three Process Stages}

  \includegraphics{first.pdf}%
  \pause%
  \llap{\includegraphics{second.pdf}}%
  \pause%
  \llap{\includegraphics{third.pdf}}
\end{frame}
\end{verbatim}

While this works, it is a bit of a hassle. To make things more
convenient, you can use the style |mpmulti.sty| from the ppower4
package. This style, written by Klaus Guntermann, 
introduces a command called |\multiinclude| that takes the base name
of a graphic file like |mygraphic| and will then search for files
called |mygraphic.0|, |mygraphic.1|, and so on, till no more files are
found. It will then include these graphics files using the
|\includegraphics| command, but will put these graphics ``on top of
each other.'' Furthermore, and this is the important part,
it inserts a |\pause| command after each graphic. This command is
defined in the ppower4 package and has the same effect as the |\pause|
command of \beamer. For this reason, both ppower4 and also \beamer\
will first display the basic graphic and will then additionally show
the next graphic on each slide.

You cannot directly use |mpmulti.sty| since it includes a file called
|pause.sty|, which is part of the ppower4 package and which clashes
with \beamer. Essentially, |pause.sty| just defines the
ppower4-version of |\pause| and is thus not needed in conjunction with
\beamer. So, in order to use |mpmulti.sty| in \beamer, you either have
to comment out the line in |mpmulti.sty| reading
|\RequirePackage{pause}| or somehow make |mpmulti.sty| believe that
this file has already been included. Alternatively, you can also save
\beamer's definition of |\pause| and restore it after |mpmulti.sty|
has been loaded.

You might also consider using the style |xmpmulti.sty| that comes with
\beamer. This file is mainly identical to |mpmulti|, except for two
differences: First, it does not include |pause.sty|. Second, it
extends the |\multiinclude| command by allowing a special default
overlay specification to be given. The effect of this is explained
below. 

\begin{package}{{xmpmulti}}
  Defines the command |\multiinclude|. The code of this package is
  essentially due to Klaus Guntermann. It can used together with \beamer\
  and with ppower4, i.\,e., it can be used as a replacement for
  |mpmulti| if the |pause| package is also included in a
  ppower4-presentation. 
\end{package}

\begin{command}{\multiinclude\opt{|[<|\meta{default overlay
        specification}|>]|}\oarg{options}\marg{base file name}}
  Except for the possibility of specifying a \meta{default overlay
    specification}, this command is identical to the |\multiinclude|
  command from the ppower4 package.

  If no overlay specification is given, the command will search for
  files called \meta{base file name}|.|\meta{number} for increasing
  numbers \meta{number}, starting with zero. As long as it finds these
  files, it issues an |\includegraphics| command on them. The files
  following the first one are put ``on top'' of the first one. Between
  any two invocations of |\includegraphics|, a |\pause| command is
  inserted. You can modify this behaviour is different ways by given
  suitable \meta{options}, see below.

  \example Assume that MetaPost has created files called |gra.0|,
  |gra.1|, and |gra.2|. You can then create frame consisting of three
  slides that incrementally show the graphic as follows:

\begin{verbatim}
\begin{frame}
  \multiinclude{gra}
\end{frame}
\end{verbatim}
  
  The effect of providing a \meta{default overlay specification} is
  the following: First, no |\pause| command is inserted between
  graphics. Instead, each graphic is surrounded by an |actionenv|
  environment with the overlay specification set to \meta{default
    overlay specification}.

  \example You can create the same effect as in the previous example
  using |\multiinclude[<+->]{gra}|.

  \example For a more interesting usage of the \meta{default overlay
    specification}, consider the following usage:
\begin{verbatim}
\multiinclude[<alert@+| +->]{gra}
\end{verbatim}
  This will always paint the most recently added part of the graphic
  in red (assuming you do not use special colors in the graphic
  itself).

  \example In order to have each graphic completely \emph{replace} the
  previous one, you could use |\multiinclude[<+>]{gra}|.

  The following \meta{options} may be given (these are the same as for
  the original command from the ppower4 package):
  \begin{itemize}
  \item
    \declare{|pause=|\meta{command}} replaces the default pausing
    command |\pause| by \meta{command}. If a \meta{default overlay
      specification} is given, the default pausing command is empty;
    otherwise it is |\pause|. Note that commands like |\pauselevel|
    are not available in |\beamer|.
  \item
    \declare{|graphics=|\meta{options}} passes the \meta{options} to
    the |\includegraphics| command.

    \example |\multiinclude[graphics={height=5cm}]{gra}|
  \item
    \declare{|format=|\meta{extension}} will cause the file names for
    which we search change from \meta{base file name}|.|\meta{number}
    to \meta{base file name}|-|\meta{number}|.|\meta{extension}. Note
    the change from the dot to a hyphen. This option allows you to
    include, say, |.jpg| files.
  \item
    \declare{|start=|\meta{number}} specifies the start
    \meta{number}. The default is zero.
  \item
    \declare{|end=|\meta{number}} specifies the end 
    \meta{number}. The default is infinity.
  \end{itemize}  
\end{command}

Note that, if you do not use the |format=| option, the
|\includegraphics| command will be somewhat at a loss in which format
your graphic file actually is. After all, it end with the cryptic
``format suffix'' |.0| or |.1|. You can tell |\includegraphics| that
any file having a suffix it knows nothing about is actually in format,
say, |.mps|, using the following command:
\begin{verbatim}
\DeclareGraphicsRule{*}{mps}{*}{}
\end{verbatim}



\subsection{Advanced Overlay Specifications}

\subsubsection{Making Commands and Environments Overlay-Specification-Aware}

This subsection explains how to define new commands that are 
overlay-specification-aware. Also, it explains how to setup counters
correctly that should be increased from frame to frame (like equation
numbering), but not from slide to slide. You may wish to skip this
section, unless you  want to write your own extensions to the \beamer\
class. 

\beamer\ extends the syntax of \LaTeX's standard command
|\newcommand|:


\begin{command}{\newcommand\declare{|<>|}\marg{command name}%
    \oarg{argument number}\oarg{default optional value}\marg{text}}
  Declares the new command named \meta{command name}. The \meta{text}
  should contain the body of this command and it may contain
  occurences of parameters like |#|\meta{number}. Here \meta{number}
  may be between 1 and $\mbox{\meta{argument number}}+1$. The
  additionally allowed argument is the overlay specification.

  When \meta{command name} is used, it will scan as many as
  \meta{argument number} arguments. While scanning them, it will look
  for an overlay specification, which may be given between any two
  arguments, before the first argument, or after the last argument. If
  it finds an overlay specification like |<3>|, it will call
  \meta{text} with arguments 1 to \meta{argument number} set to the
  normal arguments and the argument number $\mbox{\meta{argument
      number}}+1$ set to |<3>| (including the pointed brackets). If no
  overlay specification is found, the extra argument is empty.

  If the \meta{default optional value} is provided, the first argument
  of \meta{command name} is optional. If no optional argument is
  specified in square brackets, the \meta{default optional value} is
  used.
  
  \example The following command will typeset its argument in red on
  the specified slides:
\begin{verbatim}
\newcommand<>{\makered}[1]{{\color#2{red}#1}}
\end{verbatim}
  
  \example Here is \beamer's definition of |\emph|:
\begin{verbatim}
\newcommand<>{\emph}[1]{{\only#2{\itshape}#1}}
\end{verbatim}

  
  \example Here is \beamer's definition of |\transdissolve| (the
  command |\beamer@dotrans| mainly passes its argument to |hyperref|):
\begin{verbatim}
\newcommand<>{\transdissolve}[1][]{\only#2{\beamer@dotrans[#1]{Dissolve}}}
\end{verbatim}
\end{command}

\begin{command}{\renewcommand\declare{|<>|}\marg{existing command name}%
    \oarg{argument number}\oarg{default optional value}\marg{text}}
  Redeclares a command that already exists in the same way as
  |\newcommand<>|. Inside \meta{text}, you can 
  still access to original definitions using the command
  |\beameroriginal|, see the example.
  \example This command is used in \beamer\ to make |\hyperlink| overlay-specification-aware:
\begin{verbatim}
\renewcommand<>{\hyperlink}[2]{\only#3{\beameroriginal{\hyperlink}{#1}{#2}}}
\end{verbatim}
\end{command}


\begin{command}{\newenvironment\declare{|<>|}\marg{environment name}%
    \oarg{argument number}\oarg{default optional value}\\\marg{begin
    text}\marg{end text}}
  Declares a new environment that is overlay-specification-aware. If
  this environment is encountered, the same algorithm as for
  |\newcommand<>| is used to parse the arguments and the overlay
  specification.

  Note that, as always, the \meta{end text} may not contain any
  arguments like |#1|. In particular, you do not have access to the
  overlay specification. In this case, it is usually a good idea to
  use |altenv| environment in the \meta{begin text}.
  
  \example Declare your own action block:
\begin{verbatim}
\newenvironment<>{myboldblock}[1]{%
  \begin{actionenv}#2%
    \textbf{#1}
    \par}
  {\par%
  \end{actionenv}}

\begin{frame}
  \begin{myboldblock}<2>
    This theorem is shown only on the second slide.
  \end{myboldblock}
\end{frame}
\end{verbatim}

  \example Text in the following environment is normally bold and
  italic on non-specified slides: 
\begin{verbatim}
\newenvironment<>{boldornormal}
  {\begin{altenv}#1
    {\begin{bfseries}}{\end{bfseries}}
    {}{}}
  {\end{altenv}}
\end{verbatim}

  Incidentally, since |altenv| also accepts its argument at the end,
  the same effect could have been achieved using just 
  \begin{verbatim}
\newenvironment{boldornormal}
  {\begin{altenv}
    {\begin{bfseries}}{\end{bfseries}}
    {}{}}
  {\end{altenv}}
\end{verbatim}
\end{command}

\begin{command}{\renewenvironment\declare{|<>|}\marg{existing environment name}%
    \oarg{argument number}\oarg{default optional value}\\
    \marg{begin
    text}\marg{end text}}
  Redefines an existing environment. The original environment is still
  available under the name |original|\meta{existing environment name}.

  \example
\begin{verbatim}
\renewenvironment<>{verse}
{\begin{actionenv}#1\begin{originalverse}}
{\end{originalverse}\end{actionenv}}
\end{verbatim}
\end{command}

The following two commands can be used to ensure that a certain
counter is automatically reset on subsequent slides of a frame. This
is necessary for example for the equation count. You might want this
count to be increased from frame to frame, but certainly not from
overlay slide to overlay slide. For equation counters and footnote
counters (you should not use footnotes), these commands have already
been invoked.

\begin{command}{\resetcounteronoverlays\marg{counter name}}
  After you have invoked this command, the value of the specified
  counter will be the same on all slides of every frame. 
  \example |\resetcounteronoverlays{equation}|
\end{command}
 
\begin{command}{\resetcountonoverlays\marg{count register name}}
  The same as |\resetcounteronoverlays|, except that this
  command should be used with counts that have been created using the
  \TeX\ primitive |\newcount| instead of \LaTeX's  |\definecounter|. 
  \example
\begin{verbatim}
\newcount\mycount
\resetcountonoverlays{mycount}
\end{verbatim}
\end{command}






\subsubsection{Mode Specifications}

This subsection is only important if you use \beamer's mode mechanism
to create different versions of your presentation. If you are not
familiar with \beamer's modes, please skip this section or read
Section~\ref{section-modes} first.

In certain cases you may wish to have different overlay specifications
to apply to a command in different modes.
For example, you might wish a certain text to appear only from the
third slide on during your presentation, but in a handout for the
audience there should be no second slide and the text should appear
already on the second slide. In this case you could write
\begin{verbatim}
\only<3| handout:2>{Some text}
\end{verbatim}

The vertical bar, which must be followed by a (white) space, separates
the two different specifications |3| and |handout:2|. By writing a
mode name before a colon, you specify that the following specification
only applies to that mode. If no mode is given, as in |3|, the mode
|beamer| is automatically added. For this reason, if you write
|\only<3>{Text}| and you are in |handout| mode, the text will be shown
on all slides since there is no restriction specified for handouts and
since the |3| is the same as |beamer:3|.

It is also possible to give an overlay specification that contains
only a mode name (or several, separated by vertical bars):
\begin{verbatim}
\only<article>{This text is shown only in article mode.}
\end{verbatim}
An overlay specification that does not contain any slide numbers is
called a (pure) \emph{mode specification}. If a mode specification is
given, all modes that are not mentioned are automatically
suppressed. Thus |<beamer:1->| means ``on all slides in |beamer| mode
and also on all slides in all other modes, since nothing special is
specified for them,'' whereas |<beamer>| means ``on all slides in
|beamer| mode and not on any other slide.''

Mode specifications can also be used outside frames as in the following
examples:
\begin{verbatim}
\section<presentation>{This section exists only in the presentation modes}
\section<article>{This section exists only in the article mode}
\end{verbatim}

You can also mix pure mode specifications and overlay specifications,
although this can get confusing: 
\begin{verbatim}
\only<article| beamer:1>{Riddle}
\end{verbatim}

This will cause the text |Riddle| to be inserted in |article| mode and
on the first slide of a frame in |beamer| mode, but not at all in
|handout| or |trans| mode. (Try to find out how
\verb/<beamer| beamer:1>/ differs from |<beamer>| and from
|<beamer:1>|.)




\subsubsection{Action Specifications}
\label{section-action-specifications}

This subsection also introduces a rather advanced concept. You may
also wish to skip it on first reading.

Some overlay-specification-aware commands cannot only handle normal
overlay specifications, but also so called \emph{action
specifications}. In an action specification, the list of slide numbers
and ranges is prefixed by \meta{action}|@|, where \meta{action} is the
name of a certain action to be taken on the specified slides:
\begin{verbatim}
\item<3-| alert@3> Shown from slide 3 on, alerted on slide 3. 
\end{verbatim}
In the above example, the |\item| command, which allows actions to be
specified, will uncover the item text from slide three on and it will,
additionally, alert this item exactly on slide 3.

Not all commands can take an action specification. Currently, only
|\item| (though not in |article| mode currently), |\action|, the
environment |actionenv|, and the block environments (like |block| or
|theorem|) handle them. 

By default, the following actions are available:
\begin{itemize}
\item \declare{|alert|} alters the item or block.
\item \declare{|uncover|} uncovers the item or block (this is
  the default, if no action is specified).
\item \declare{|only|} causes the whole item or block
  to be inserted only on the specified slides.
\item \declare{|visible|} causes the text to become visible only on
  the specified slides (the difference between |uncover| and
  |visible| is the same as between |\uncover| and |\visible|).
\item \declare{|invisible|} causes the text to become invisble on the
  specified slides.
\end{itemize}

The rest of this section explains how you can add your own actions and
make commands action-specification-aware. You may wish to skip it upon
first reading.

You can easily add your own actions: An action specification like
\meta{action}|@|\meta{slide numbers} simply inserts an environment
called \meta{action}|env| around the |\item| or parameter of
|\action| with |<|\meta{slide numbers}|>| as overlay
specification. Thus, by defining a new overlay-specification-aware
environment named \meta{my action name}|env|, you can add your own
action:
\begin{verbatim}
\newenvironment{checkenv}{\only{\useitemizeitemtemplate{X}}}{}
\end{verbatim}
You can then  write
\begin{verbatim}
\item<beamer:check@2> Text.
\end{verbatim}
This will change the itemization symbol before |Text.| to |X| on
slide~2 in |beamer| mode. The definition of |checkenv| used the fact
that |\only| also accepts an overlay-specification given after its
argument. 

The whole action mechanism is base on the following environment:

\begin{environment}{{actionenv}\sarg{action specification}}
  This environment extracts all actions from the \meta{action
    specification} for the current mode. For each action of the form
  \meta{action}|@|\meta{slide numbers}, it inserts the following text:
  |\begin{|\meta{action}|env}<|\meta{slide number}|>| and the
  beginning of the environment and the text |\end{|\meta{action}|env}|
  at the end. If there are several action specifications, several
  environments are opened (and closed in the appropriate order). An
  \meta{overlay specification} without an action is promoted to
  |uncover@|\meta{overlay specification}.

  If the so called \emph{default overlay specification} is not empty,
  it will be used in case no \meta{action specification} is given. The
  default overlay specification is usually just empty, but it may be
  set either by providing an additional optional argument to the
  command |\frame| or to the environments |itemize|, |enumerate|, or
  |description| (see these for details). Also, the default action
  specification can be set using the command
  |\beamerdefaultoverlayspecification|, see below.
 
  \example 
\begin{verbatim}
\begin{frame}
  \begin{actionenv}<2-| alert@3-4,6>
    This text is shown the same way as the text below.
  \end{actionenv}

  \begin{uncoverenv}<2->
    \begin{alertenv}<3-4,6>
      This text is shown the same way as the text above.
    \end{alertenv}
  \end{uncoverenv}
\end{frame}
\end{verbatim}
\end{environment} 
 
\begin{command}{\action\sarg{action specification}\marg{text}}
  This has the same effect as putting \meta{text} in an |actionenv|.

  \example |\action<alert@2>{Could also have used \alert<2>{}.}|
\end{command}

\begin{command}{\beamerdefaultoverlayspecification\marg{default
      overlay specification}}
  Locally sets the default overlay specification to the given
  value. This overlay specification will be used in every |actionenv|
  environment and every |\item| that does not have its own overlay
  specification. The main use of this command is to install an
  incremental overlay specification like |<+->| or
  \verb/<+-| alert@+>/, see Section~\ref{section-incremental}.

  Usually, the default overlay specification is installed
  automatically by the optional arguments to |\frame|, |frame|,
  |itemize|, |enumerate|, and |description|. You will only have to use
  this command if you wish to do funny things.

  If given outside any frame, this command sets the default overlay
  specification for all following frames for which you do not override
  the default overlay specification.

  \example |\beamerdefaultoverlayspecification{<+->}|

  \example |\beamerdefaultoverlayspecification{}| clears the default
  overlay specification. (Actually, it installs the default overlay
  specification |<*>|, which just means ``always,'' but the
  ``portable'' way of clearing the default overlay specification is
  this call.)
\end{command}



\subsubsection{Incremental Specifications}
\label{section-incremental}

This subsection is mostly important for people who have already used
overlay specifications a lot and have grown tired of writing things
like |<1->|, |<2->|, |<3->|, and so on again and again. You should
skip this section on first reading.

Often you want to have overlay specifications that follow a pattern
similar to the following:
\begin{verbatim}
\begin{itemize}
\item<1-> Apple
\item<2-> Peach
\item<3-> Plum
\item<4-> Orange
\end{itemize}
\end{verbatim}
The problem starts if you decide to insert a new fruit, say, at the
beginning. In this case, you would have to adjust all of the overlay
specifications. Also, if you add a |\pause| command before the
|itemize|, you would also have to update the overlay specifications.

\beamer\ offers a special syntax to make creating lists as the one
above more ``robust.'' You can replace it by the following list of
\emph{incremental overlay specifications}:
\begin{verbatim}
\begin{itemize}
\item<+-> Apple
\item<+-> Peach
\item<+-> Plum
\item<+-> Orange
\end{itemize}
\end{verbatim}
The effect of the |+|-sign is the following: You can use it in any
overlay specification at any point where you would usually use a
number. If a |+|-sign is encountered, it is replaced by the current
value of the \LaTeX\ counter |beamerpauses|, which is 1 at the
beginning of the frame. Then the counter is increased by 1, though it
is only increased once for every overlay specification, even if the
specification contains multiple |+|-signs (they are replaced by the
same number).

In the above example, the first specification is replaced by
|<1->|. Then the second is replaced by |<2->| and so forth. We can now
easily insert new entries, without having to change anything. We might
also write the following:
\begin{verbatim}
\begin{itemize}
\item<+-| alert@+> Apple
\item<+-| alert@+> Peach
\item<+-| alert@+> Plum
\item<+-| alert@+> Orange
\end{itemize}
\end{verbatim}
This will alert the current item when it is uncovered. For example,
the first specification \verb/<+-| alert@+>/ is replaced by
\verb/<1-| alert@1>/, the second is replaced by \verb/<2-| alert@2>/, and so on.
Since the |itemize| environment also allows you to specify a default
overlay specification, see the documentation of that environment, the
above example can be written even more economically as follows:
\begin{verbatim}
\begin{itemize}[<+-| alert@+>]
\item Apple
\item Peach
\item Plum
\item Orange
\end{itemize}
\end{verbatim}

The |\pause| command also updates the counter |beamerpauses|. You can
change this counter yourself using the normal \LaTeX\ commands
|\setcounter| or |\addtocounter|.

Any occurence of a |+|-sign may be followed by an \emph{offset} in
round brackets. This offset will be added to the value of
|beamerpauses|. Thus, if |beamerpauses| is 2, then |<+(1)->| expands to
|<3->| and |<+(-1)-+>| expands to |<1-2>|. 

There is another special sign you can use in an overlay specification
that behaves similarly to the |+|-sign: a dot. When you write |<.->|,
a similar thing as in |<+->| happens \emph{except that the counter
  |beamerpauses| is not incremented} and \emph{except that you get the
  value of |beamerpauses| decreased by one}. Thus a dot, possibly
followed by an offset, just expands to the current value of the
counter |beamerpauses| minus one, possibly offset. This dot notation
can be useful in case like the following:
\begin{verbatim}
\begin{itemize}[<+->]
\item Apple
\item<.-> Peach
\item Plum
\item Orange
\end{itemize}
\end{verbatim}
In the example, the second item is shown at the same time as the first
one since it does not update the counter.

In the following example, each time an item is uncovered, the
specified text is alerted. When the next item is uncovered, this
altering ends.
\begin{verbatim}
\begin{itemize}[<+->]
\item This is \alert<.>{important}.
\item We want to \alert<.>{highlight} this and \alert<.>{this}.
\item What is the \alert<.>{matrix}?
\end{itemize}  
\end{verbatim}






%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "beameruserguide"
%%% End: 
