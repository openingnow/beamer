\ProvidesPackage{beamertemplates}[2003/10/29 ver 0.92]
\NeedsTeXFormat{LaTeX2e}[1995/12/01]

\RequirePackage{pgfshade}

% Copyright 2003 by Till Tantau <tantau@cs.tu-berlin.de>.
%
% This program can be redistributed and/or modified under the terms
% of the LaTeX Project Public License Distributed from CTAN
% archives in directory macros/latex/base/lppl.txt.

%
% Title and part page templates
%

\newcommand{\beamertemplatelargetitlepage}{
  \usetitlepagetemplate{
    \vbox{}
    \vfill
    \begin{centering}
      \Large\structure{\inserttitle}
      \vskip1em\par
      \normalsize\insertauthor\vskip1em\par
      {\scriptsize\insertinstitute\par}\par\vskip1em
      \insertdate\par\vskip1.5em
      \inserttitlegraphic
    \end{centering}
    \vfill
  }
}

\newcommand{\beamertemplateboldtitlepage}{
  \usetitlepagetemplate{
    \vbox{}
    \vfill
    \begin{centering}
      \large\structure{\textbf{\inserttitle}}
      \vskip1em\par
      \normalsize\insertauthor\vskip1em\par
      {\scriptsize\insertinstitute\par}\par\vskip1em
      \insertdate\par\vskip1.5em
      \inserttitlegraphic
    \end{centering}
    \vfill
  }
} 

\newcommand{\beamertemplatelargepartpage}{
  \usepartpagetemplate{
    \begin{centering}
      \Large\structure{\partname~\insertromanpartnumber}
      \vskip1em\par
      \insertpart\par
    \end{centering}
  }
}

\newcommand{\beamertemplateboldpartpage}{
  \usepartpagetemplate{
    \begin{centering}
      \large\structure{\partname~\insertromanpartnumber}
      \vskip1em\par
      \textbf{\insertpart}\par
    \end{centering}
  }
}


%
% Frame title templates
%

\newcommand{\beamertemplateboldcenterframetitle}{
  \useframetitletemplate{%
    \begin{centering}
      \structure{\textbf{\insertframetitle}}
      \par
    \end{centering}
  }
}

  
\newcommand{\beamertemplatelargeframetitle}{
  \useframetitletemplate{%
    {\leftskip-\beamer@leftmargin\advance\leftskip by0.3cm%
     \rightskip-\beamer@rightmargin plus1fil\advance\rightskip by0.3cm\leavevmode
      \color{structure}
      \Large\insertframetitle\par}%
    }
}
  



%
% Itemize templates
%

\newcommand{\beamertemplatedotitem}{%
  \useitemizeitemtemplate{\small\raise0.5pt\hbox{\color{structure}\textbullet}}
  \usesubitemizeitemtemplate{\footnotesize\raise0.5pt\hbox{\color{structure}\textbullet}}
  }

\newcommand{\beamertemplateballitem}{%
  \pgfdeclareradialshading{bigsphere}{\pgfpoint{-0.9pt}{1.1pt}}%
  {color(0cm)=(structure!15);
    color(0.8pt)=(structure!75);
    color(1.6pt)=(structure!70!black);
    color(2.2pt)=(structure!50!black);
    color(2.6pt)=(averagebackgroundcolor)}
  \pgfdeclareradialshading{smallsphere}{\pgfpoint{-0.72pt}{0.89pt}}%
  {color(0cm)=(structure!15);
    color(0.64pt)=(structure!75);
    color(1.28pt)=(structure!70!black);
    color(1.76pt)=(structure!50!black);
    color(2.08pt)=(averagebackgroundcolor)}
  \begin{colormixin}{15!averagebackgroundcolor}
  \pgfdeclareradialshading{bigsphereshaded}{\pgfpoint{-0.9pt}{1.1pt}}%
  {color(0cm)=(structure!15);
    color(0.8pt)=(structure!75);
    color(1.6pt)=(structure!70!black);
    color(2.2pt)=(structure!50!black);
    color(2.6pt)=(averagebackgroundcolor)}
  \pgfdeclareradialshading{smallsphereshaded}{\pgfpoint{-0.72pt}{0.89pt}}%
  {color(0cm)=(structure!15);
    color(0.64pt)=(structure!75);
    color(1.28pt)=(structure!70!black);
    color(1.76pt)=(structure!50!black);
    color(2.08pt)=(averagebackgroundcolor)}
  \end{colormixin}
  \pgfaliasshading{bigsphere!20!averagebackgroundcolor}{bigsphereshaded}
  \pgfaliasshading{bigsphere!15!averagebackgroundcolor}{bigsphereshaded}
  \pgfaliasshading{bigsphere!10!averagebackgroundcolor}{bigsphereshaded}
  \pgfaliasshading{bigsphere!5!averagebackgroundcolor}{bigsphereshaded}
  \pgfaliasshading{bigsphere!2!averagebackgroundcolor}{bigsphereshaded}  
  \pgfaliasshading{smallsphere!20!averagebackgroundcolor}{smallsphereshaded}
  \pgfaliasshading{smallsphere!15!averagebackgroundcolor}{smallsphereshaded}
  \pgfaliasshading{smallsphere!10!averagebackgroundcolor}{smallsphereshaded}
  \pgfaliasshading{smallsphere!5!averagebackgroundcolor}{smallsphereshaded}
  \pgfaliasshading{smallsphere!2!averagebackgroundcolor}{smallsphereshaded}  
  \useitemizeitemtemplate{\raise0.2pt\hbox{\pgfuseshading{bigsphere}}}
  \usesubitemizeitemtemplate{\raise0.2pt\hbox{\pgfuseshading{smallsphere}}}
  }

%
% Head templates
%

\newcommand{\beamertemplateheadempty}{\useheadtemplate{}}


%
% Foot templates
%

\newcommand{\beamertemplatefootempty}{\usefoottemplate{}}

\newcommand{\beamertemplatefootpagenumber}{%
  \usefoottemplate{%
  \hfil\tiny{\color{black!50!averagebackgroundcolor}\insertpagenumber}}}

%
% Mini navigation bar frame templates
%

\newcommand{\beamertemplatesphereminiframe}{
  \def\beamer@sphereradius{0.05cm}
  \useminislidetemplate
  {%
    \begin{pgfpicture}{0pt}{0pt}{0.1cm}{0.1cm}
      \color{structure}
      \pgfcircle[fillstroke]{\pgfpoint{\beamer@sphereradius}{\beamer@sphereradius}}{\beamer@sphereradius}%
    \end{pgfpicture}%
  }
  {%
    \begin{pgfpicture}{0pt}{0pt}{0.1cm}{0.1cm}
      \color{structure}
      \pgfcircle[stroke]{\pgfpoint{\beamer@sphereradius}{\beamer@sphereradius}}{\beamer@sphereradius}%
    \end{pgfpicture}%
  }
  {%
    \begin{pgfpicture}{0pt}{0pt}{0.1cm}{0.1cm}
      \color{structure!50!averagebackgroundcolor}
      \pgfcircle[stroke]{\pgfpoint{\beamer@sphereradius}{\beamer@sphereradius}}{\beamer@sphereradius}%
    \end{pgfpicture}%
  }
  {.14cm}{.03cm}
}

\newcommand{\beamertemplateboxminiframe}{
  \useminislidetemplate{%
    \begin{pgfpicture}{0pt}{0pt}{.1cm}{.1cm}
      \color{structure}
      \pgfrect[fillstroke]{\pgforigin}{\pgfpoint{\the\boxsize}{\the\boxsize}}
    \end{pgfpicture}%
  }  
  {%
    \begin{pgfpicture}{0pt}{0pt}{.1cm}{.1cm}
      \color{structure}
      \pgfrect[stroke]{\pgforigin}{\pgfpoint{\the\boxsize}{\the\boxsize}}
    \end{pgfpicture}%
  }
  {%
    \begin{pgfpicture}{0pt}{0pt}{.1cm}{.1cm}
      \color{structure!50!averagebackgroundcolor}
      \pgfrect[stroke]{\pgforigin}{\pgfpoint{\the\boxsize}{\the\boxsize}}
    \end{pgfpicture}%
  }
  {.1cm}{.05cm}
  }

\newcommand{\beamertemplateticksminiframe}{
  \useminislidetemplate
  {%
    \color{structure}%
    \hskip-0.4pt\vrule height\boxsize width1.2pt%
  }  
  {%
    \color{structure}%
    \vrule height\boxsize width0.4pt%
  }
  {%
    \color{structure!50!averagebackgroundcolor}%
    \vrule height\boxsize width0.4pt%
  }
  {.1cm}{.05cm}}


%
% Background templates
%

\newcommand{\beamertemplatesolidbackgroundcolor}[1]{
  \usebackgroundtemplate{\color{#1}\vrule width \paperwidth height\paperwidth}
  \beamersetaveragebackground{#1}
  }
  
\newcommand{\beamertemplateshadingbackground}[2]{
  \pgfdeclareverticalshading{background}{\the\paperwidth}%
  {color(0cm)=(#1); color(\the\paperheight)=(#2)}

  \usebackgroundtemplate{\pgfuseshading{background}}%
  \colorlet{beamer@backgroundshadestart}{#1}%
  \colorlet{beamer@backgroundshadeend}{#2}%
  \beamersetaveragebackground{beamer@backgroundshadestart!50!beamer@backgroundshadeend}%
  }
  
\newcommand{\beamertemplategridbackground}{
  \usebackgroundtemplate{
  \begin{pgfpicture}{0cm}{0cm}{\the\paperwidth}{\the\paperheight}
    \color{lightgray}%
    \pgfxyline(0.5,0)(0.5,10)
    \pgfxyline(1,0)(1,10)
    \pgfxyline(1.5,0)(1.5,10)
    \pgfxyline(2,0)(2,10)
    \pgfxyline(2.5,0)(2.5,10)
    \pgfxyline(3,0)(3,10)
    \pgfxyline(3.5,0)(3.5,10)
    \pgfxyline(4,0)(4,10)
    \pgfxyline(4.5,0)(4.5,10)
    \pgfxyline(5,0)(5,10)
    \pgfxyline(5.5,0)(5.5,10)
    \pgfxyline(6,0)(6,10)
    \pgfxyline(6.5,0)(6.5,10)
    \pgfxyline(7,0)(7,10)
    \pgfxyline(7.5,0)(7.5,10)
    \pgfxyline(8,0)(8,10)
    \pgfxyline(8.5,0)(8.5,10)
    \pgfxyline(9,0)(9,10)
    \pgfxyline(9.5,0)(9.5,10)
    \pgfxyline(10,0)(10,10)
    \pgfxyline(10.5,0)(10.5,10)
    \pgfxyline(11,0)(11,10)
    \pgfxyline(11.5,0)(11.5,10)
    \pgfxyline(12,0)(12,10)
    \pgfxyline(12.5,0)(12.5,10)
    \pgfxyline(0,0.5)(13,0.5)
    \pgfxyline(0,1)(13,1)
    \pgfxyline(0,1.5)(13,1.5)
    \pgfxyline(0,2)(13,2)
    \pgfxyline(0,2.5)(13,2.5)
    \pgfxyline(0,3)(13,3)
    \pgfxyline(0,3.5)(13,3.5)
    \pgfxyline(0,4)(13,4)
    \pgfxyline(0,4.5)(13,4.5)
    \pgfxyline(0,5)(13,5)
    \pgfxyline(0,5.5)(13,5.5)
    \pgfxyline(0,6)(13,6)
    \pgfxyline(0,6.5)(13,6.5)
    \pgfxyline(0,7)(13,7)
    \pgfxyline(0,7.5)(13,7.5)
    \pgfxyline(0,8)(13,8)
    \pgfxyline(0,8.5)(13,8.5)
    \pgfxyline(0,9)(13,9)
    \pgfxyline(0,9.5)(13,9.5)
  \end{pgfpicture}%    
  }}


%
% Bibliography templates
%

\pgfdeclareimage[width=14pt,height=12pt]{beamericonbook}{beamericonbook}
\pgfdeclareimage[width=14pt,height=12pt]{beamericonbookshaded}{beamericonbook.20}
\pgfaliasimage{beamericonbook!20!averagebackgroundcolor}{beamericonbookshaded}
\pgfaliasimage{beamericonbook!15!averagebackgroundcolor}{beamericonbookshaded}
\pgfaliasimage{beamericonbook!10!averagebackgroundcolor}{beamericonbookshaded}
\pgfaliasimage{beamericonbook!5!averagebackgroundcolor}{beamericonbookshaded}
\pgfaliasimage{beamericonbook!2!averagebackgroundcolor}{beamericonbookshaded}
\newcommand{\beamertemplatebookbibitems}{
  \usebibitemtemplate{\lower2pt\hbox{\pgfuseimage{beamericonbook}}}
}


\newcommand{\beamertemplatearticlebibitems}{
  \usebibitemtemplate{\lower3.5pt\hbox{\hskip1.5pt\pgfuseimage{beamericonarticle}}}
}

\newcommand{\beamertemplatetextbibitems}{
  \usebibitemtemplate{\color{structure}\insertbiblabel}
}

\newcommand{\beamertemplatearrowbibitems}{
  \usebibitemtemplate{\color{structure}\scriptsize\raise1.25pt\hbox{$\blacktriangleright$}}
}


%
% Captions
%

\newcommand{\beamertemplatecaptionwithnumber}{
\usecaptiontemplate{%
  {\small\structure{\insertcaptionname~\insertcaptionnumber:}
    \insertcaption}}}

\newcommand{\beamertemplatecaptionownline}{
\usecaptiontemplate{%
  {\small%
    \begin{minipage}{\textwidth}
      \structure{\insertcaptionname}\\
      \insertcaption
    \end{minipage}}}}



%
% Commands for making covered items transparent
%
\newcommand{\beamertemplatetransparentcovereddynamic}{
  \beamersetuncovermixins
  {\mixinon<1>{15!averagebackgroundcolor}%
    \mixinon<2>{10!averagebackgroundcolor}%
    \mixinon<3>{5!averagebackgroundcolor}%
    \mixinon<4->{2!averagebackgroundcolor}}%
  {\mixinon<1>{15!averagebackgroundcolor}%
    \mixinon<2>{10!averagebackgroundcolor}%
    \mixinon<3>{5!averagebackgroundcolor}%
    \mixinon<4->{2!averagebackgroundcolor}}}

\newcommand{\beamertemplatetransparentcovered}{
  \beamersetuncovermixins%
  {\mixinon<1->{15!averagebackgroundcolor}}
  {\mixinon<1->{15!averagebackgroundcolor}}}




%
% Buttons
%

\newdimen\beamer@dima%
\newdimen\beamer@dimb%
\newdimen\beamer@blockheadheight%

\newcommand{\beamertemplateoutlinebuttons}
{\usebuttontemplate{%
  \color{structure}
  \setbox\beamer@tempbox=\hbox{\tiny\insertbuttontext}%
  \ht\beamer@tempbox=6pt%
  \dp\beamer@tempbox=0pt%
  \setbox\beamer@tempbox=\vbox{\box\beamer@tempbox\vskip2pt}%
  \beamer@tempdim=\wd\beamer@tempbox%
  \beamer@dima=\beamer@tempdim\advance\beamer@dima by2.2pt
  \beamer@dimb=\beamer@tempdim\advance\beamer@dimb by4pt
  \begin{pgfpicture}{-4pt}{0pt}{\the\beamer@tempdim}{8pt}
    \color{structure!50!averagebackgroundcolor}
    \pgfsetlinewidth{0.8pt}
    \pgfqmoveto{0}{0}
    \pgfqcurveto{-2.2}{0}{-4}{1.8}{-4}{4}
    \pgfqcurveto{-4}{6.2}{-2.2}{8}{0}{8}
    \pgflineto{\pgfpoint{\the\beamer@tempdim}{8pt}}
    \pgfcurveto%
    {\pgfpoint{\the\beamer@dima}{8pt}}%
    {\pgfpoint{\the\beamer@dimb}{6.2pt}}%
    {\pgfpoint{\the\beamer@dimb}{4pt}}
    \pgfcurveto%
    {\pgfpoint{\the\beamer@dimb}{1.8pt}}%
    {\pgfpoint{\the\beamer@dima}{0pt}}%
    {\pgfpoint{\the\beamer@tempdim}{0pt}}
    \pgfclosepath
    \pgfstroke
  \end{pgfpicture}%
  \hskip-\beamer@tempdim%
  \box\beamer@tempbox%
  \kern4pt}}

\newcommand{\beamertemplatesolidbuttons}
{\usebuttontemplate{%
  \setbox\beamer@tempbox=\hbox{{\tiny\color{white}\insertbuttontext}}%
  \ht\beamer@tempbox=6pt%
  \dp\beamer@tempbox=0pt%
  \setbox\beamer@tempbox=\vbox{\box\beamer@tempbox\vskip2pt}%
  \beamer@tempdim=\wd\beamer@tempbox%
  \beamer@dima=\beamer@tempdim\advance\beamer@dima by2.2bp
  \beamer@dimb=\beamer@tempdim\advance\beamer@dimb by4bp
  \begin{pgfpicture}{-4bp}{0bp}{\the\beamer@tempdim}{8bp}
    \color{structure!50!averagebackgroundcolor}
    \pgfsetlinewidth{0.8bp}
    \pgfqmoveto{0}{0}
    \pgfqcurveto{-2.2}{0}{-4}{1.8}{-4}{4}
    \pgfqcurveto{-4}{6.2}{-2.2}{8}{0}{8}
    \pgflineto{\pgfpoint{\the\beamer@tempdim}{8bp}}
    \pgfcurveto%
    {\pgfpoint{\the\beamer@dima}{8bp}}%
    {\pgfpoint{\the\beamer@dimb}{6.2bp}}%
    {\pgfpoint{\the\beamer@dimb}{4bp}}
    \pgfcurveto%
    {\pgfpoint{\the\beamer@dimb}{1.8bp}}%
    {\pgfpoint{\the\beamer@dima}{0bp}}%
    {\pgfpoint{\the\beamer@tempdim}{0bp}}
    \pgffill
  \end{pgfpicture}%
  \hskip-\beamer@tempdim%
  \box\beamer@tempbox%
  \kern4pt}}
\newcommand{\beamertemplatenavigationsymbolsempty}{
  \usenavigationsymbolstemplate{}}

\newcommand{\beamertemplatenavigationsymbolsframe}{
  \usenavigationsymbolstemplate{\insertframenavigationsymbols}}

\newcommand{\beamertemplatenavigationsymbolsvertical}{%
  \usenavigationsymbolstemplate{
  \vbox{%
  \hbox{\insertslidenavigationsymbols}
  \hbox{\insertframenavigationsymbols}
  \hbox{\insertsubsectionnavigationsymbols}
  \hbox{\insertsectionnavigationsymbols}
  \hbox{\insertdocnavigationsymbols}
  \hbox{\insertbackfindforwardnavigationsymbols}}}}

\newcommand{\beamertemplatenavigationsymbolshorizontal}{%
  \usenavigationsymbolstemplate{\hbox{%
  \hbox{\insertslidenavigationsymbol}
  \hbox{\insertframenavigationsymbol}
  \hbox{\insertsubsectionnavigationsymbol}
  \hbox{\insertsectionnavigationsymbol}
  \hbox{\insertdocnavigationsymbol}
  \hbox{\insertbackfindforwardnavigationsymbol}}}}


%
% Blocks
%

\newcommand{\beamertemplateboldblocks}{
  \useblocktemplate{\medskip{\color{structure}\textbf{\insertblockname}}\par}{\medskip}
  \usealertblocktemplate{\medskip{\alert{\textbf{\insertblockname}}}\par}{\medskip}
  \useexampleblocktemplate{\medskip\begingroup{\color{structure!50!green}\textbf{\insertblockname}}\par%
    \color{black!50!green}}{\endgroup\medskip}
}

\newcommand{\beamertemplatelargeblocks}{
  \useblocktemplate{\medskip{\color{structure}\large{\insertblockname}}\par}{\medskip}
  \usealertblocktemplate{\medskip{\alert{\large{\insertblockname}}}\par}{\medskip}
  \useexampleblocktemplate{\medskip\begingroup{\color{structure!50!green}\large{\insertblockname}}\par%
    \color{black!50!green}}{\endgroup\medskip}
}


\newcommand{\beamertemplatesetupshadings}{
\colorlet{beamerdarkgreen}{green!50!black}

\pgfdeclareverticalshading{roundblock}{13cm}{%
  color(0pt)=(structure!10!averagebackgroundcolor);
  color(2pt)=(structure!10!averagebackgroundcolor);
  color(4pt)=(structure!75!averagebackgroundcolor);
  color(6pt)=(structure!75!averagebackgroundcolor)}
\pgfdeclareverticalshading{roundalertblock}{13cm}{%
  color(0pt)=(alert!10!averagebackgroundcolor);
  color(2pt)=(alert!10!averagebackgroundcolor);
  color(4pt)=(alert!75!averagebackgroundcolor);
  color(6pt)=(alert!75!averagebackgroundcolor)}
\pgfdeclareverticalshading{roundexampleblock}{13cm}{%
  color(0pt)=(beamerdarkgreen!10!averagebackgroundcolor);
  color(2pt)=(beamerdarkgreen!10!averagebackgroundcolor);
  color(4pt)=(beamerdarkgreen!75!averagebackgroundcolor);
  color(6pt)=(beamerdarkgreen!75!averagebackgroundcolor)}

\pgfdeclareradialshading{shadowballblock}{\pgforigin}{%
  color(0pt)=(black!60!averagebackgroundcolor);
  color(4bp)=(averagebackgroundcolor)}
\pgfdeclareverticalshading{shadowblock}{13cm}{%
  color(0pt)=(averagebackgroundcolor);
  color(4pt)=(black!60!averagebackgroundcolor);
  color(8pt)=(black!60!averagebackgroundcolor)}

\begin{colormixin}{16!averagebackgroundcolor}
  \pgfdeclareverticalshading{roundblockshadeda}{13cm}{%
    color(0pt)=(structure!10!averagebackgroundcolor);
    color(2pt)=(structure!10!averagebackgroundcolor);
    color(4pt)=(structure!75!averagebackgroundcolor);
    color(6pt)=(structure!75!averagebackgroundcolor)}
  \pgfdeclareverticalshading{roundalertblockshadeda}{13cm}{%
    color(0pt)=(alert!10!averagebackgroundcolor);
    color(2pt)=(alert!10!averagebackgroundcolor);
    color(4pt)=(alert!75!averagebackgroundcolor);
    color(6pt)=(alert!75!averagebackgroundcolor)}
  \pgfdeclareverticalshading{roundexampleblockshadeda}{13cm}{%
    color(0pt)=(beamerdarkgreen!10!averagebackgroundcolor);
    color(2pt)=(beamerdarkgreen!10!averagebackgroundcolor);
    color(4pt)=(beamerdarkgreen!75!averagebackgroundcolor);
    color(6pt)=(beamerdarkgreen!75!averagebackgroundcolor)}
  \pgfdeclareradialshading{shadowballblockshadeda}{\pgforigin}{%
    color(0pt)=(black!60!averagebackgroundcolor);
    color(4bp)=(averagebackgroundcolor)}
  \pgfdeclareverticalshading{shadowblockshadeda}{13cm}{%
    color(0pt)=(averagebackgroundcolor);
    color(4pt)=(black!60!averagebackgroundcolor);
    color(8pt)=(black!60!averagebackgroundcolor)}
\end{colormixin}

\begin{colormixin}{9!averagebackgroundcolor}
  \pgfdeclareverticalshading{roundblockshadedb}{13cm}{%
    color(0pt)=(structure!10!averagebackgroundcolor);
    color(2pt)=(structure!10!averagebackgroundcolor);
    color(4pt)=(structure!75!averagebackgroundcolor);
    color(6pt)=(structure!75!averagebackgroundcolor)}
  \pgfdeclareverticalshading{roundalertblockshadedb}{13cm}{%
    color(0pt)=(alert!10!averagebackgroundcolor);
    color(2pt)=(alert!10!averagebackgroundcolor);
    color(4pt)=(alert!75!averagebackgroundcolor);
    color(6pt)=(alert!75!averagebackgroundcolor)}
  \pgfdeclareverticalshading{roundexampleblockshadedb}{13cm}{%
    color(0pt)=(beamerdarkgreen!10!averagebackgroundcolor);
    color(2pt)=(beamerdarkgreen!10!averagebackgroundcolor);
    color(4pt)=(beamerdarkgreen!75!averagebackgroundcolor);
    color(6pt)=(beamerdarkgreen!75!averagebackgroundcolor)}
  \pgfdeclareradialshading{shadowballblockshadedb}{\pgforigin}{%
    color(0pt)=(black!60!averagebackgroundcolor);
    color(4bp)=(averagebackgroundcolor)}
  \pgfdeclareverticalshading{shadowblockshadedb}{13cm}{%
    color(0pt)=(averagebackgroundcolor);
    color(4pt)=(black!60!averagebackgroundcolor);
    color(8pt)=(black!60!averagebackgroundcolor)}
\end{colormixin}

\pgfaliasshading{roundblock!20!averagebackgroundcolor}{roundblockshadeda}
\pgfaliasshading{roundblock!15!averagebackgroundcolor}{roundblockshadeda}
\pgfaliasshading{roundblock!10!averagebackgroundcolor}{roundblockshadedb}
\pgfaliasshading{roundblock!5!averagebackgroundcolor}{roundblockshadedb}
\pgfaliasshading{roundblock!2!averagebackgroundcolor}{roundblockshadedb}  

\pgfaliasshading{roundalertblock!20!averagebackgroundcolor}{roundalertblockshadeda}
\pgfaliasshading{roundalertblock!15!averagebackgroundcolor}{roundalertblockshadeda}
\pgfaliasshading{roundalertblock!10!averagebackgroundcolor}{roundalertblockshadedb}
\pgfaliasshading{roundalertblock!5!averagebackgroundcolor}{roundalertblockshadedb}
\pgfaliasshading{roundalertblock!2!averagebackgroundcolor}{roundalertblockshadedb}  

\pgfaliasshading{roundexampleblock!20!averagebackgroundcolor}{roundexampleblockshadeda}
\pgfaliasshading{roundexampleblock!15!averagebackgroundcolor}{roundexampleblockshadeda}
\pgfaliasshading{roundexampleblock!10!averagebackgroundcolor}{roundexampleblockshadedb}
\pgfaliasshading{roundexampleblock!5!averagebackgroundcolor}{roundexampleblockshadedb}
\pgfaliasshading{roundexampleblock!2!averagebackgroundcolor}{roundexampleblockshadedb}  

\pgfaliasshading{shadowblock!20!averagebackgroundcolor}{shadowblockshadeda}
\pgfaliasshading{shadowblock!15!averagebackgroundcolor}{shadowblockshadeda}
\pgfaliasshading{shadowblock!10!averagebackgroundcolor}{shadowblockshadedb}
\pgfaliasshading{shadowblock!5!averagebackgroundcolor}{shadowblockshadedb}
\pgfaliasshading{shadowblock!2!averagebackgroundcolor}{shadowblockshadedb}  

\pgfaliasshading{shadowballblock!20!averagebackgroundcolor}{shadowballblockshadeda}
\pgfaliasshading{shadowballblock!15!averagebackgroundcolor}{shadowballblockshadeda}
\pgfaliasshading{shadowballblock!10!averagebackgroundcolor}{shadowballblockshadedb}
\pgfaliasshading{shadowballblock!5!averagebackgroundcolor}{shadowballblockshadedb}
\pgfaliasshading{shadowballblock!2!averagebackgroundcolor}{shadowballblockshadedb}  
}

\newcommand{\beamertemplateroundedblocks}{
  \beamertemplatesetupshadings
  
  \def\beamertemplateroundblockhead##1{% background color
    \beamer@tempdim=\dp\beamer@tempbox%
    \ifdim\beamer@tempdim<1.5pt%
    \beamer@tempdim=1.5pt\fi
    \setbox\beamer@tempbox=\hbox{\raise\beamer@tempdim\hbox{\box\beamer@tempbox}}%
    \dp\beamer@tempbox=0pt%
    \beamer@tempdim=\wd\beamer@tempbox%
    \beamer@dima=\beamer@tempdim\advance\beamer@dima by2.2bp%
    \beamer@dimb=\beamer@tempdim\advance\beamer@dimb by4bp%
    \hbox{\begin{pgfpicture}{0bp}{-\ht\beamer@tempbox}{0bp}{-\ht\beamer@tempbox}
      \color{##1}
      \pgfqmoveto{-4}{-1}
      \pgfqcurveto{-4}{1.2}{-2.2}{3}{0}{3}
      \pgflineto{\pgfpoint{\the\beamer@tempdim}{3bp}}
      \pgfcurveto%
      {\pgfpoint{\the\beamer@dima}{3bp}}%
      {\pgfpoint{\the\beamer@dimb}{1.2bp}}%
      {\pgfpoint{\the\beamer@dimb}{-1bp}}%
      \beamer@dima=-\ht\beamer@tempbox%
      \advance\beamer@dima by-1pt%
      \pgflineto{\pgfpoint{\the\beamer@dimb}{\the\beamer@dima}}
      \pgflineto{\pgfpoint{-4bp}{\the\beamer@dima}}
      \pgffill
    \end{pgfpicture}%
    \box\beamer@tempbox}%
    \nointerlineskip}

  \def\beamertemplateroundmidshade##1{% shading
    \hbox{\kern-4bp%
      \beamer@dima=\textwidth%
      \advance\beamer@dima by8bp%
      \begin{pgfpicture}{0pt}{0pt}{\textwidth}{6pt}
        \pgfqmoveto{-4}{-1}
        \pgfqlineto{-4}{7}
        \pgflineto{\pgfpoint{\beamer@dima}{7bp}}
        \pgflineto{\pgfpoint{\beamer@dima}{-1bp}}
        \pgfclip
        \pgfbox[left,base]{\pgfuseshading{##1}}%
      \end{pgfpicture}
      }%
    \nointerlineskip%
    }

  \def\beamertemplateroundblocktail##1{% background color
    \setbox\beamer@tempbox=\hbox{\raise\dp\beamer@tempbox\hbox{\box\beamer@tempbox}}%
    \dp\beamer@tempbox=0pt%
    %\vskip6pt%
    \beamer@tempdim=\wd\beamer@tempbox%
    \beamer@dima=\beamer@tempdim\advance\beamer@dima by2.2bp%
    \beamer@dimb=\beamer@tempdim\advance\beamer@dimb by4bp%
    \hbox{\begin{pgfpicture}{0bp}{0bp}{0bp}{0bp}
      \color{##1}
      \pgfqmoveto{-4}{1}
      \pgfqcurveto{-4}{-1.2}{-2.2}{-3}{0}{-3}
      \pgflineto{\pgfpoint{\the\beamer@tempdim}{-3bp}}
      \pgfcurveto%
      {\pgfpoint{\the\beamer@dima}{-3bp}}%
      {\pgfpoint{\the\beamer@dimb}{-1.2bp}}%
      {\pgfpoint{\the\beamer@dimb}{1bp}}%
      \beamer@dima=\ht\beamer@tempbox%
      \advance\beamer@dima by1pt%
      \pgflineto{\pgfpoint{\the\beamer@dimb}{\the\beamer@dima}}
      \pgflineto{\pgfpoint{-4bp}{\the\beamer@dima}}
      \pgffill
    \end{pgfpicture}%
    \box\beamer@tempbox}
  }

  \useblocktemplate{\medskip\vbox\bgroup%
    \ifx\insertblockname\@empty%
    \setbox\beamer@tempbox=\hbox{}%
    \wd\beamer@tempbox=\textwidth%
    \ht\beamer@tempbox=0pt%
    \beamertemplateroundblockhead{structure!10!averagebackgroundcolor}%
    \else%    
    \setbox\beamer@tempbox=\hbox{\begin{minipage}[b]{\textwidth}\color{white}\insertblockname\end{minipage}}%
    \beamertemplateroundblockhead{structure!75!averagebackgroundcolor}%
    \beamertemplateroundmidshade{roundblock}%
    \fi%
    \setbox\beamer@tempbox=\hbox\bgroup\begin{minipage}[b]{\textwidth}}{\end{minipage}\egroup%
    \beamertemplateroundblocktail{structure!10!averagebackgroundcolor}%
    \egroup\medskip}
  \usealertblocktemplate{\medskip\vbox\bgroup%
    \ifx\insertblockname\@empty%
    \setbox\beamer@tempbox=\hbox{}%
    \wd\beamer@tempbox=\textwidth%
    \ht\beamer@tempbox=0pt%
    \beamertemplateroundblockhead{alert!10!averagebackgroundcolor}%
    \else%    
    \setbox\beamer@tempbox=\hbox{\begin{minipage}[b]{\textwidth}\color{white}\insertblockname\end{minipage}}%
    \beamertemplateroundblockhead{alert!75!averagebackgroundcolor}%
    \beamertemplateroundmidshade{roundalertblock}%
    \fi%
    \setbox\beamer@tempbox=\hbox\bgroup\begin{minipage}[b]{\textwidth}}{\end{minipage}\egroup%
    \beamertemplateroundblocktail{alert!10!averagebackgroundcolor}%
    \egroup\medskip}  
  \useexampleblocktemplate{\medskip\vbox\bgroup%
    \ifx\insertblockname\@empty%
    \setbox\beamer@tempbox=\hbox{}%
    \wd\beamer@tempbox=\textwidth%
    \ht\beamer@tempbox=0pt%
    \beamertemplateroundblockhead{beamerdarkgreen!10!averagebackgroundcolor}%
    \else%    
    \setbox\beamer@tempbox=\hbox{\begin{minipage}[b]{\textwidth}\color{white}\insertblockname\end{minipage}}%
    \beamertemplateroundblockhead{beamerdarkgreen!75!averagebackgroundcolor}%
    \beamertemplateroundmidshade{roundexampleblock}%
    \fi%
    \setbox\beamer@tempbox=\hbox\bgroup\begin{minipage}[b]{\textwidth}}{\end{minipage}\egroup%
    \beamertemplateroundblocktail{beamerdarkgreen!10!averagebackgroundcolor}%
    \egroup\medskip}  
}


\newcommand{\beamertemplateshadowblocks}{
  \beamertemplatesetupshadings

  \def\beamertemplateshadowblockhead##1{% background color
    \beamer@tempdim=\dp\beamer@tempbox%
    \ifdim\beamer@tempdim<1.5pt%
    \beamer@tempdim=1.5pt\fi
    \setbox\beamer@tempbox=\hbox{\raise\beamer@tempdim\hbox{\box\beamer@tempbox}}%
    \dp\beamer@tempbox=0pt%
    \beamer@blockheadheight=\ht\beamer@tempbox%
    \beamer@tempdim=\wd\beamer@tempbox%
    \beamer@dima=\beamer@tempdim\advance\beamer@dima by2.2bp%
    \beamer@dimb=\beamer@tempdim\advance\beamer@dimb by4bp%
    \hbox{%
      \begin{pgfpicture}{0bp}{-\ht\beamer@tempbox}{0bp}{-\ht\beamer@tempbox}
        \pgfputat{\pgfpoint{\the\beamer@dimb}{-5bp}}{\pgfbox[center,center]{\pgfuseshading{shadowballblock}}}
        \color{##1}
        \pgfqmoveto{-4}{-1}
        \pgfqcurveto{-4}{1.2}{-2.2}{3}{0}{3}
        \pgflineto{\pgfpoint{\the\beamer@tempdim}{3bp}}
        \pgfcurveto%
        {\pgfpoint{\the\beamer@dima}{3bp}}%
        {\pgfpoint{\the\beamer@dimb}{1.2bp}}%
        {\pgfpoint{\the\beamer@dimb}{-1bp}}%
        \beamer@dima=-\ht\beamer@tempbox%
        \advance\beamer@dima by-1pt%
        \pgflineto{\pgfpoint{\the\beamer@dimb}{\the\beamer@dima}}
        \pgflineto{\pgfpoint{-4bp}{\the\beamer@dima}}
        \pgffill
      \end{pgfpicture}%
      \box\beamer@tempbox}%
    \nointerlineskip}

  \def\beamertemplateshadowmidshade##1{% shading
    \hbox{\kern-4bp%
      \beamer@dima=\textwidth%
      \advance\beamer@dima by8bp%
      \begin{pgfpicture}{0pt}{0pt}{\textwidth}{6pt}
        \pgfqmoveto{-4}{-1}
        \pgfqlineto{-4}{7}
        \pgflineto{\pgfpoint{\beamer@dima}{7bp}}
        \pgflineto{\pgfpoint{\beamer@dima}{-1bp}}
        \pgfclip
        \pgfbox[left,base]{\pgfuseshading{##1}}%
      \end{pgfpicture}
      }%
    \nointerlineskip%
    }

  \def\beamertemplateshadowblocktail##1{% background color
    \setbox\beamer@tempbox=\hbox{\raise\dp\beamer@tempbox\hbox{\box\beamer@tempbox}}%
    \dp\beamer@tempbox=0pt%
    %\vskip6pt%
    \beamer@tempdim=\wd\beamer@tempbox%
    \beamer@dima=\beamer@tempdim\advance\beamer@dima by2.2bp%
    \beamer@dimb=\beamer@tempdim\advance\beamer@dimb by4bp%
    \hbox{\begin{pgfpicture}{0bp}{0bp}{0bp}{0bp}
      \pgfputat{\pgfpoint{4bp}{-3bp}}{\pgfbox[center,center]{\pgfuseshading{shadowballblock}}}
      \pgfputat{\pgfpoint{\the\beamer@dimb}{-3bp}}{\pgfbox[center,center]{\pgfuseshading{shadowballblock}}}
      \begin{pgfscope}
        \pgfqmoveto{4}{1}
        \pgfqlineto{4}{-7}
        \pgflineto{\pgfpoint{\beamer@dimb}{-7bp}}
        \pgflineto{\pgfpoint{\beamer@dimb}{1bp}}
        \pgfclip
        \pgfputat{\pgfpoint{4bp}{-7bp}}{\pgfbox[left,base]{\pgfuseshading{shadowblock}}}%
      \end{pgfscope}
      \begin{pgfscope}
        \advance\beamer@tempdim by 4bp%
        \pgfmoveto{\pgfpoint{\beamer@tempdim}{-3bp}}
        \beamer@dima=\ht\beamer@tempbox%
        \advance\beamer@dima by\beamer@blockheadheight%
        \advance\beamer@dima by1bp%
        \advance\beamer@dimb by4bp%
        \pgflineto{\pgfpoint{\beamer@dimb}{-3bp}}
        \pgflineto{\pgfpoint{\beamer@dimb}{\beamer@dima}}
        \pgflineto{\pgfpoint{\beamer@tempdim}{\beamer@dima}}
        \pgfclip
        \advance\beamer@tempdim by4bp%
        \pgfputat{\pgfpoint{\beamer@tempdim}{-3bp}}%
        {\begin{pgfrotateby}{\pgfdegree{90}}\pgfbox[left,base]{\pgfuseshading{shadowblock}}\end{pgfrotateby}}%
      \end{pgfscope}
      \color{##1}
      \pgfqmoveto{-4}{1}
      \pgfqcurveto{-4}{-1.2}{-2.2}{-3}{0}{-3}
      \pgflineto{\pgfpoint{\the\beamer@tempdim}{-3bp}}
      \pgfcurveto%
      {\pgfpoint{\the\beamer@dima}{-3bp}}%
      {\pgfpoint{\the\beamer@dimb}{-1.2bp}}%
      {\pgfpoint{\the\beamer@dimb}{1bp}}%
      \beamer@dima=\ht\beamer@tempbox%
      \advance\beamer@dima by1pt%
      \pgflineto{\pgfpoint{\the\beamer@dimb}{\the\beamer@dima}}
      \pgflineto{\pgfpoint{-4bp}{\the\beamer@dima}}
      \pgffill
    \end{pgfpicture}%
    \box\beamer@tempbox}
  }

  \useblocktemplate{\medskip\vbox\bgroup%
    \ifx\insertblockname\@empty%
    \setbox\beamer@tempbox=\hbox{}%
    \wd\beamer@tempbox=\textwidth%
    \ht\beamer@tempbox=0pt%
    \beamertemplateshadowblockhead{structure!10!averagebackgroundcolor}%
    \beamer@blockheadheight=-4.5pt%
    \else%    
    \setbox\beamer@tempbox=\hbox{\begin{minipage}[b]{\textwidth}\color{white}\insertblockname\end{minipage}}%
    \beamertemplateshadowblockhead{structure!75!averagebackgroundcolor}%
    \beamertemplateshadowmidshade{roundblock}%
    \fi%
    \setbox\beamer@tempbox=\hbox\bgroup\begin{minipage}[b]{\textwidth}}{\end{minipage}\egroup%
    \beamertemplateshadowblocktail{structure!10!averagebackgroundcolor}%
    \egroup\medskip}
  \usealertblocktemplate{\medskip\vbox\bgroup%
    \ifx\insertblockname\@empty%
    \setbox\beamer@tempbox=\hbox{}%
    \wd\beamer@tempbox=\textwidth%
    \ht\beamer@tempbox=0pt%
    \beamertemplateshadowblockhead{alert!10!averagebackgroundcolor}%
    \else%    
    \setbox\beamer@tempbox=\hbox{\begin{minipage}[b]{\textwidth}\color{white}\insertblockname\end{minipage}}%
    \beamertemplateshadowblockhead{alert!75!averagebackgroundcolor}%
    \beamertemplateshadowmidshade{roundalertblock}%
    \fi%
    \setbox\beamer@tempbox=\hbox\bgroup\begin{minipage}[b]{\textwidth}}{\end{minipage}\egroup%
    \beamertemplateshadowblocktail{alert!10!averagebackgroundcolor}%
    \egroup\medskip}  
  \useexampleblocktemplate{\medskip\vbox\bgroup%
    \ifx\insertblockname\@empty%
    \setbox\beamer@tempbox=\hbox{}%
    \wd\beamer@tempbox=\textwidth%
    \ht\beamer@tempbox=0pt%
    \beamertemplateshadowblockhead{beamerdarkgreen!10!averagebackgroundcolor}%
    \else%    
    \setbox\beamer@tempbox=\hbox{\begin{minipage}[b]{\textwidth}\color{white}\insertblockname\end{minipage}}%
    \beamertemplateshadowblockhead{beamerdarkgreen!75!averagebackgroundcolor}%
    \beamertemplateshadowmidshade{roundexampleblock}%
    \fi%
    \setbox\beamer@tempbox=\hbox\bgroup\begin{minipage}[b]{\textwidth}}{\end{minipage}\egroup%
    \beamertemplateshadowblocktail{beamerdarkgreen!10!averagebackgroundcolor}%
    \egroup\medskip}  
}
