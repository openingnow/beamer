\ProvidesPackage{beamerlayoutthemesmoothbars}[2003/11/07 ver 0.93]
\NeedsTeXFormat{LaTeX2e}[1995/12/01]

% Copyright 2003 by Till Tantau <tantau@cs.tu-berlin.de>.
%
% This program can be redistributed and/or modified under the terms
% of the LaTeX Project Public License Distributed from CTAN
% archives in directory macros/latex/base/lppl.txt.

\newif\ifbeamer@sb@subsection

\DeclareOptionBeamer{showsubsection}[true]{\csname beamer@sb@subsection#1\endcsname}
\ExecuteOptionsBeamer{showsubsection=true}
\ProcessOptionsBeamer

\mode<presentation>

\setbeamercolor{section in head/foot}{fg=white,bg=black}
\setbeamercolor{subsection in head/foot}{use=structure,bg=structure.fg!50!black,fg=white}
\setbeamercolor{frametitle}{use=structure,fg=white,bg=structure.fg}

\beamer@compresstrue

\AtBeginDocument{
  {
    \usebeamerfont*{headline}
    \colorlet{global.bg}{bg}

    \ifbeamer@sb@subsection
      \usebeamercolor{subsection in head/foot}
      \colorlet{ssec.bg}{bg}
      \usebeamercolor{section in head/foot}
       \pgfdeclareverticalshading{beamer@barshade}{\the\paperwidth}{%
         color(0ex)=(global.bg);%
         color(1ex)=(ssec.bg);%
         color(3.25ex)=(ssec.bg);%
         color(4.25ex)=(bg);%
         color(9.75ex)=(bg)%
       }
       \usebeamercolor{frametitle}
       \pgfdeclareverticalshading{beamer@aboveframetitle}{\the\paperwidth}{%
         color(0ex)=(bg);%
         color(1ex)=(bg);%
         color(2ex)=(ssec.bg)
       }
    \else
      \usebeamercolor{section in head/foot}
      \colorlet{sec.bg}{bg}
      \pgfdeclareverticalshading{beamer@barshade}{\the\paperwidth}{%
         color(0ex)=(global.bg);%
         color(1ex)=(bg);%
         color(7ex)=(bg)%
       }
     \usebeamercolor{frametitle}
       \pgfdeclareverticalshading{beamer@aboveframetitle}{\the\paperwidth}{%
         color(0ex)=(bg);%
         color(1ex)=(bg);%
         color(2ex)=(sec.bg)
       }
     \fi  

    \pgfdeclareverticalshading{beamer@belowframetitle}{\the\paperwidth}{%
      color(0ex)=(global.bg);%
      color(1ex)=(bg)
    }
  }
}

                                % Head
\useheadtemplate{%
  \vbox{%
    \beamerline{\pgfuseshading{beamer@barshade}}%
    \ifbeamer@sb@subsection%
      \vskip-9.75ex%
    \else%
      \vskip-7ex%
    \fi%
    {\setbox\beamer@linebox=\hbox
      to\textwidth{\hskip-\Gm@lmargin\insertnavigation{\paperwidth}\hskip-\Gm@rmargin}%
    \ht\beamer@linebox=2.25ex%
    \dp\beamer@linebox=3.75ex%
    \box\beamer@linebox}%
    \ifbeamer@sb@subsection%
      \beamer@fixedline{%
          \usebeamercolor[fg]{subsection in head/foot}{\usebeamerfont{subsection in
              head/foot}\insertsubsection\hfil}%
        }%
    \fi%
    }%
  }%


\useframetitletemplate{%
  \nointerlineskip%
  \usebeamerfont{headline}%
  \vskip-0.5ex%
  \beamerline{\pgfuseshading{beamer@aboveframetitle}}%
  \vskip-.5ex%
  \nointerlineskip%
  \usebeamercolor{frametitle}%
  \beamer@colouredline{bg}{%
    \begin{minipage}[b]{\paperwidth}%
      \usebeamerfont*{frametitle}%
      \vbox{}\vskip-.5ex%
      \leftskip0.3cm%
      \rightskip0.3cm plus1fil\leavevmode\color{fg}\insertframetitle%
      \ifx\insertframesubtitle\@empty%
        \strut\par%
      \else
        \par{\usebeamerfont*{framesubtitle}{\usebeamercolor[fg]{framesubtitle}\insertframesubtitle}\strut\par}%
      \fi%
      \nointerlineskip
      \vbox{}%
    \end{minipage}}%
  \nointerlineskip%
  \vskip-0.5pt%
  \beamerline{\pgfuseshading{beamer@belowframetitle}}%
}
  
  
\mode
<all>
