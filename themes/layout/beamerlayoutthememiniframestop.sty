\ProvidesPackage{beamerlayoutthememiniframestop}[2004/05/08 ver 0.1]
\NeedsTeXFormat{LaTeX2e}[1995/12/01]

% Copyright 2003 by Till Tantau <tantau@cs.tu-berlin.de>.
%
% This program can be redistributed and/or modified under the terms
% of the LaTeX Project Public License Distributed from CTAN
% archives in directory macros/latex/base/lppl.txt.


\mode<presentation>

\def\beamer@mfs@pre{}
\def\beamer@mfs@post{}

\DeclareOptionBeamer{shadebackground}[beamerstructure]{%
  \AtBeginDocument{%
    \pgfdeclareverticalshading{beamer@headfade}{\paperwidth}
    {%
      color(0cm)=(bg);
      color(1.25cm)=(#1!50!bg)%
    }
  }

  \def\beamer@mfs@pre{%
    \beamerline{\pgfuseshading{beamer@headfade}}%
    \vskip-1.25cm}
}

\DeclareOptionBeamer{finelinebelow}{%
  \def\beamer@mfs@post{%
    \vskip1.5pt%
    \insertvrule{0.4pt}{beamerstructure!50!averagebackgroundcolor}%
  }
}

\DeclareOptionBeamer{subsectionbelow}{%
  \def\beamer@mfs@pre{%
    \insertvrule{3pt}{beamerstructure!50!averagebackgroundcolor}%
    \vskip-2pt%
  }%
    
  \def\beamer@mfs@post{%
    \vskip1.5pt%
    \insertvrule{3pt}{beamerstructure!50!averagebackgroundcolor}%
    \vskip1.5pt%
    \tinyline{\color{beamerstructure}\insertsubsection\hfill}
    \insertvrule{3pt}{beamerstructure!50!averagebackgroundcolor}%
  }
}

\ProcessOptionsBeamer

\useheadtemplate{%
  \vbox{%
    \beamer@mfs@pre%
    \vskip3pt%
    \beamerline{\insertnavigation{\paperwidth}}%
    \beamer@mfs@post%
  }%
}

\mode
<all>
