\ProvidesPackage{beamerthemesidebardark}[2003/11/07 ver 0.93]
\NeedsTeXFormat{LaTeX2e}[1995/12/01]

% Copyright 2003 by Till Tantau <tantau@cs.tu-berlin.de>.
%
% This program can be redistributed and/or modified under the terms
% of the LaTeX Project Public License Distributed from CTAN
% archives in directory macros/latex/base/lppl.txt.

\RequirePackage{pgfshade}
\RequirePackage{keyval}[1997/11/10]

\def\ProcessOptionsWithKV#1{%
  \let\@tempa\@empty
  \@for\CurrentOption:=\@classoptionslist\do{%
    \@ifundefined{KV@#1@\CurrentOption}%
    {}{\edef\@tempa{\@tempa,\CurrentOption,}}}%
  \edef\@tempa{%
    \noexpand\setkeys{#1}{\@tempa\@ptionlist{\@currname.\@currext}}}%
  \@tempa
  \AtEndOfPackage{\let\@unprocessedoptions\relax}}

\newdimen\beamer@sidebarwidth
\beamer@sidebarwidth=2.5cm
\define@key{Side}{width}{\beamer@sidebarwidth=#1}
\ProcessOptionsWithKV{Side}

                                % Title page  
\usetitlepagetemplate{
  \vbox{}
  \vfill
  \begin{centering}
    \Large\structure{\bfseries\inserttitle}
    \vskip1em\par
    \normalsize\insertauthor\vskip1em\par
    {\scriptsize\insertinstitute\par}\par\vskip1em
    \insertdate\par\vskip1.5em
    \inserttitlegraphic
  \end{centering}
  \vfill
}

                                % Part page  
\usepartpagetemplate{
  \begin{centering}
    \Large\structure{\bfseries\partname~\@Roman\c@part}
    \vskip1em\par
    \bfseries\insertpart\par
  \end{centering}
}

                                % Frametitles
\useframetitletemplate{%
  {\leftskip-\beamer@leftmargin\advance\leftskip by0.3cm%
   \rightskip-\beamer@rightmargin plus1fil\advance\rightskip by0.3cm\vskip0.3cm\leavevmode
    \color{structure}
    \Large\bfseries\insertframetitle\par}%
  }


                                % Head and foot are empty
\useheadtemplate{}
\usefoottemplate{}
                                % Entries in table of contents
\usetemplatetocsection[50!averagebackgroundcolor]
{\color{structure}\textbf{\inserttocsection}}

                                % Sidebar
\userightsidebartemplate{\beamer@sidebarwidth}{%
  \vskip1em
  \beamer@tempdim=\beamer@sidebarwidth%
  \advance\beamer@tempdim by -3pt%
  \hbox{%
    \hskip 3pt%
    \begin{minipage}{\beamer@tempdim}
      \leftskip0pt plus1fill%
      \rightskip0pt plus1fill%
      \tiny\color{white}\bfseries\insertshorttitle%
      \vskip.5em
      \color{structure!50}\insertshortauthor
    \end{minipage}}%
  \vskip1em
  \insertverticalnavigation{\beamer@sidebarwidth}%
  \vfill
  \hbox to \beamer@sidebarwidth{\hfil\insertnavigationsymbols\hskip3pt}
  \vskip3pt
  \hbox to \beamer@sidebarwidth{\hfil\insertlogo\hskip3pt}
  \vskip3pt
}

                                % Sidebar Background
\userightsidebarverticalshadingtemplate{structure}{black}

                                % Sections in headline
\usesectionsidetemplate
{%
  {\tiny
  \setbox\beamer@tempbox=\hbox{\color{white}{\kern3pt\bfseries\insertsectionhead}}%
  \ht\beamer@tempbox=3ex%
  \dp\beamer@tempbox=0.75ex%
  \wd\beamer@tempbox=\beamer@sidebarwidth%
  \box\beamer@tempbox}%
}
{%
  {\tiny
  \setbox\beamer@tempbox=\hbox{\color{structure!80}{\kern3pt\bfseries\insertsectionhead}}%
  \ht\beamer@tempbox=3ex%
  \dp\beamer@tempbox=0.75ex%
  \wd\beamer@tempbox=\beamer@sidebarwidth%
  \box\beamer@tempbox}%
}

\usesubsectionsidetemplate
{%
  {\tiny
  \setbox\beamer@tempbox=\hbox{\color{white}{\kern6pt\bfseries\insertsubsectionhead}}%
  \ht\beamer@tempbox=1.6875ex%
  \dp\beamer@tempbox=0.75ex%
  \wd\beamer@tempbox=\beamer@sidebarwidth%
  \box\beamer@tempbox}%
}
{%
  {\tiny%
  \setbox\beamer@tempbox=\hbox{\color{black!50}{\kern6pt\bfseries\insertsubsectionhead}}%
  \ht\beamer@tempbox=1.6875ex%
  \dp\beamer@tempbox=0.75ex%
  \wd\beamer@tempbox=\beamer@sidebarwidth%
  \box\beamer@tempbox}%
}



                                % Blocks
\useblocktemplate{\medskip{\color{structure}\large{\insertblockname}}\par}{\medskip}
\usealertblocktemplate{\medskip{\alert{\large{\insertblockname}}}\par}{\medskip}
\useexampleblocktemplate{\medskip\begingroup{\color{structure!50!green}\large{\insertblockname}}\par%
\color{black!50!green}}{\endgroup\medskip}

 
                                % Margins
\beamersetleftmargin{0.5cm}
\beamersetrightmargin{0.5cm}

                                % Navigation symbols
\usenavigationsymbolstemplate{\vbox{%
  \hbox{\insertslidenavigationsymbol}
  \hbox{\insertframenavigationsymbol}
  \hbox{\insertsubsectionnavigationsymbol}
  \hbox{\insertsectionnavigationsymbol}
  \hbox{\insertdocnavigationsymbol}
  \hbox{\insertbackfindforwardnavigationsymbol}}}

\def\beamernavigationcolorlight{structure!65!lightgray}
\def\beamernavigationcolorstrong{structure!50!lightgray}
  
