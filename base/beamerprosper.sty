\ProvidesPackage{beamerprosper}[2004/02/27 ver 0.01]
\NeedsTeXFormat{LaTeX2e}[1995/12/01]

% Copyright 2003 by Till Tantau <tantau@users.sourceforge.net>.
%
% This program can be redistributed and/or modified under the terms
% of the GNU Public License, version 2.


\let\beamerprosper@entry=\@gobble

\DeclareOption{framesassubsections}{\def\beamerprosper@entry#1{%
    \beamer@ifempty{#1}{}{\subsection{#1}}}}

\ProcessOptions


\def\institution{\institute}

\def\subtitle#1{%
  \expandafter\def\expandafter\beamer@renewtitle\expandafter{\inserttitle\\{\small#1}}%
  \expandafter\title\expandafter[\beamer@shorttitle]{\beamer@renewtitle}}
\newcommand\email[1]{\texttt{#1}}

\define@key{beamerprosper}{toc}{\def\beamerprosper@toc{#1}}
\define@key{beamerprosper}{template}{}
\define@key{beamerprosper}{trans}{\def\beamerprosper@trans{#1}}
\define@key{beamerprosper}{Glitter}[true]{\def\beamerprosper@trans{Glitter}}
\define@key{beamerprosper}{R}[true]{\def\beamerprosper@trans{R}}
\define@key{beamerprosper}{Replace}[true]{\def\beamerprosper@trans{Replace}}
\define@key{beamerprosper}{Split}[true]{\def\beamerprosper@trans{Split}}
\define@key{beamerprosper}{Blinds}[true]{\def\beamerprosper@trans{Blinds}}
\define@key{beamerprosper}{Box}[true]{\def\beamerprosper@trans{Box}}
\define@key{beamerprosper}{Wipe}[true]{\def\beamerprosper@trans{Wipe}}
\define@key{beamerprosper}{Dissolve}[true]{\def\beamerprosper@trans{Dissolve}}
\define@key{beamerprosper}{Glitter}[true]{\def\beamerprosper@trans{Glitter}}

\newenvironment{slide}[2][]{%
  \def\beamerprosper@toc{#2}%
  \def\beamerprosper@trans{}%
  \setkeys{beamerprosper}{#1}%
  \expandafter\beamerprosper@entry\expandafter{\beamerprosper@toc}
  \frame[containsverbatim]\bgroup\PDFtransition{\beamerprosper@trans}\frametitle{#2}}{\egroup}
\newcommand{\PDForPS}[2]{\ifx\pdfoutput\@undefined#2\else#1\fi}
\newcommand{\onlyInPDF}[1]{\ifx\pdfoutput\@undefined\else#1\fi}
\newcommand{\onlyInPS}[1]{\ifx\pdfoutput#1\@undefined\fi}


\def\overlays#1#2{%
  % Extract frame title (evil trickery necessary to do this, before the frame starts...)
  \beamerprosper@extractor#2\beamerprosper@ender}
\def\beamerprosper@extractor#1#2{%
  \ifx#1\begin%
  \else%
    \PackageError{beamerprosper}{Sorry, this overlays command does not start with begin; I'm confused}{}
  \fi%
  \@ifnextchar[\beamerprosper@extractora{\beamerprosper@extractora[]}}
\def\beamerprosper@extractora[#1]#2#3\beamerprosper@ender{%
  \def\beamerprosper@toc{#2}
  \def\beamerprosper@trans{}%
  \setkeys{beamerprosper}{#1}%    
  \expandafter\beamerprosper@entry\expandafter{\beamerprosper@toc}%
  \begingroup
  \renewenvironment{slide}{}{}
  \frame{\begin{slide}\PDFtransition{\beamerprosper@trans}\frametitle{#2}#3}
  \endgroup}

\def\fromSlide{\@ifstar{\beamer@sfromSlide}{\beamer@fromSlide}}
\newcommand{\beamer@fromSlide}[2]{\uncover<#1->{#2}}
\newcommand{\beamer@sfromSlide}[2]{\only<#1->{#2}}

\def\onlySlide{\@ifstar{\beamer@sonlySlide}{\beamer@onlySlide}}
\newcommand{\beamer@onlySlide}[2]{\uncover<#1>{#2}}
\newcommand{\beamer@sonlySlide}[2]{\only<#1>{#2}}

\def\untilSlide{\@ifstar{\beamer@suntilSlide}{\beamer@untilSlide}}
\newcommand{\beamer@untilSlide}[2]{\uncover<-#1>{#2}}
\newcommand{\beamer@suntilSlide}[2]{\only<-#1>{#2}}

\newcommand\FromSlide[1]{\onslide<#1->}
\newcommand\OnlySlide[1]{\onslide<#1>}
\newcommand\UntilSlide[1]{\onslide<-#1>}

\newcommand\slideCaption[1]{\date{#1}}
\def\Logo{\@ifnextchar(\beamer@Logo\logo}
\def\beamer@Logo(#1,#2){\logo}

\let\DefaultTransition=\@gobble
\let\NoFrenchBabelItemize=\relax
\let\TitleSlideNav=\@gobble
\let\NormalSlideNav=\@gobble
\let\LeftFoot=\@gobble
\let\RightFoot=\@gobble

\AtBeginDocument{\let\beamer@steporigitem=\item}

\newenvironment{Itemize}{\begin{itemize}}{\end{itemize}}
\newenvironment{itemstep}[1][]{\begin{itemize}[<+->]}{\end{itemize}}
\newenvironment{enumstep}[1][]{\begin{enumerate}[<+->]}{\end{enumerate}}
\newcommand\prosperpart[2][]{\begin{slide}[#1]{}\begin{centering}#2\par\end{centering}\end{slide}}

\newcommand{\FontTitle}[2]{}
\newcommand{\FontText}[2]{}
\newcommand{\fontTitle}[1]{#1}
\newcommand{\fontText}[1]{#1}
\newcommand{\ColorFoot}[1]{}
\newcommand{\PDFtransition}[1]{\csname beamer@trans#1\endcsname}
\def\beamer@trans{}
\def\beamer@transR{}
\def\beamer@transReplace{}
\def\beamer@transSplit{\transsplithorizontalout}
\def\beamer@transBlinds{\transblindshorizontal}
\def\beamer@transBox{\transboxout}
\def\beamer@transWipe{\transwipe}
\def\beamer@transDissolve{\transdissolve}
\def\beamer@transGlitter{\transglitter}

\newcommand{\myitem}[2]{}

\def\tsection{\@ifstar\section\section}

\def\tsectionandpart{\@ifstar\beamerprosper@tsp\beamerprosper@tsp}

\newcommand\beamerprosper@tsp[2][]{%
  \def\beamerprosper@toc{#2}%
  \def\beamerprosper@trans{}%
  \setkeys{beamerprosper}{#1}%
  \expandafter\section\expandafter{\beamerprosper@toc}
  \expandafter\prosperpart\expandafter[\beamerprosper@trans]{#2}}

\newbox\beamerprosper@notebox

\newenvironment{notes}[1]{%
  \begingroup%
  \textwidth=10.8cm\hsize=\textwidth\setbox\beamerprosper@notebox=\vbox\bgroup
  \textbf{#1}\par\medskip}
{\egroup\note{\box\beamerprosper@notebox}
  \endgroup}

\let\wideslide=\slide
\let\endwideslide=\endslide


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: ../test/testprosper.tex
%%% End: 
