\ProvidesPackage{beamerbasecompatibility}[2004/01/10 ver 1.20]
\NeedsTeXFormat{LaTeX2e}[1995/12/01]

% Copyright 2003 by Till Tantau <tantau@users.sourceforge.net>.
%
% This program can be redistributed and/or modified under the terms
% of the GNU Public License, version 2.

\mode<presentation>

%
%
% Hyperlink fix for problem with empty test in pdfmark.def
%
%
\let\beamer@orighyperlink\hyperlink
\def\hyperlink#1#2{\beamer@orighyperlink{#1}{\relax#2}}

\providecommand\hyper@pagetransition{}
\providecommand\hyper@pageduration{}
\providecommand\hyper@pagehidden{}


\mode
<all>
{
  % Things to be done at the beginning of the document
  \def\beamer@lastminutepatches{}
  \def\beamer@firstminutepatches{}
}

%
% Fixes right before the start of the document.
%
\let\beamer@origdocument\document
\def\document{%
  \beamer@firstminutepatches%
  \endgroup%
  
  \AtBeginDocument{% fix spanish.ldf's meddling with < and > 
    %
    % Fix spanish.ldf's meddling with < and > 
    %
    \@ifundefined{deactivatequoting}{}{\deactivatequoting}}

  \AtBeginDocument{% fix frenchb.ldf's meddling with itemize and :
    \let\labelitemi\beamer@labelitemi
    \let\labelitemii\beamer@labelitemii
    \let\itemize\beamer@itemize
    \let\list\beamer@list
    \let\@trivlist\beamer@@trivlist%
    \catcode`<=12\catcode`>=12}
  
  \begingroup\beamer@origdocument%
  \beamer@lastminutepatches%
  \ifbeamer@ignorenonframe%
    \expandafter\mode\expandafter*%
  \fi}

\mode
<article>
{
  \let\beamer@origdocument\document
  \def\document{%
    \beamer@origdocument%
    \beamer@lastminutepatches}

  \g@addto@macro\beamer@lastminutepatches{%
    \ifbeamer@articleactive
    \else
      \catcode`<=12\catcode`>=12   
    \fi    
    }
}


\AtBeginDocument{\def\es@itemize#1#2#3#4{}}% fix spanish.ldf's with \itemize 




%
% Fix for older versions of geometry
%
\ifx\ifGm@compatii\@undefined%
\def\Gm@lmargin{\Geom@lmargin}\def\Gm@rmargin{\Geom@rmargin}
\else
\geometry{includeheadfoot}
\fi



%
% Fix deluxetabular floats
%
\AtBeginDocument{
  \def\@plano@float@#1{\begin{table}}
  \def\end@plano@float@{\end{table}}
}

%
% Fix for implict=false for hyperref
%
\def\WriteBookmarks{0}
\expandafter\def\csname Parent-1\endcsname{}
\expandafter\def\csname Parent0\endcsname{}
\expandafter\def\csname Parent1\endcsname{}
\def\phantomsection{}

%
% Bugfix for old versions of pdfmark
%
\begingroup
  \catcode`P=12
  \catcode`T=12
  \lowercase{\endgroup
  \gdef\rem@ptetc#1.#2PT#3!{#1\ifnum#2>\z@.#2\fi}%
}
\def\strip@pt@and@otherjunk#1{\expandafter\rem@ptetc\the#1!}

%
% Make the effect of pdfpagetransition and duration global, not local
%
\define@key{Hyp}{pdfpagetransition}{\gdef\@pdfpagetransition{#1}}
\define@key{Hyp}{pdfpageduration}{\gdef\@pdfpageduration{#1}}

%
%
% Fix for babel 
%
%
\providecommand\textlatin{}
\providecommand\thesubsubsection{}
\providecommand\theparagraph{}
\providecommand\thesubparagraph{}
\providecommand\listoffigures{}
\providecommand\listoftables{}
\providecommand\l@part{}
\providecommand\l@chapter{}




%
% Obsolete commands from old versions of beamer
%
\def\tableofcontentscurrent{\tableofcontents[current]}
\def\plainframe{\frame[plain]}%obsolete
\def\pgfonly{\only}%obsolete
\AtBeginDocument{\newcommand{\nameslide}{\alt{\beamer@nameslide}{\@gobble}}}%obsolete
\newenvironment{pauses}[1][\c@beamerpauses]{\setcounter{beamerpauses}{#1}}{}%obsolete
\def\newoverlaycommand#1#2#3{\def#1{\alt{#2}{#3}}}
\def\newoverlayenvironment#1#2#3#4#5{\newenvironment{#1}{\begin{altenv}{#2}{#3}{#4}{#5}}{\end{altenv}}}
\newenvironment{columnsonlytextwidth}{\begin{columns}[onlytextwidth]}{\end{columns}}
\def\untitledsubsection{\subsection*{}}
\def\noteitems{\note[enumerate]}


\define@key{beamertoc}{current}[]{\beamer@toc@sectionstyle{show/shaded}\beamer@toc@subsectionstyle{show/show/shaded}}
\define@key{beamertoc}{hidesubsections}[]{\beamer@toc@subsectionstyle{show/show/hide}}
\define@key{beamertoc}{shadesubsections}[]{\beamer@toc@subsectionstyle{shaded}}

\mode
<all>{\def\unpause{\onslide{}}}

\def\beamer@fixedline#1{%
  {\setbox\beamer@linebox=\hbox to\textwidth{\hskip-\Gm@lmargin\hskip0.3cm{#1}\hskip-\Gm@rmargin\hskip0.3cm}%
  \ht\beamer@linebox=2.125ex%
  \dp\beamer@linebox=1.125ex%
  \box\beamer@linebox}}
\def\beamer@fixedcolouredline#1#2{%
  \hbox{%
    \setbox\beamer@linebox=\hbox to\textwidth{\hskip-\Gm@lmargin\hskip0.3cm{#2}\hskip-\Gm@rmargin\hskip0.3cm}%
    \ht\beamer@linebox=2.625ex%
    \dp\beamer@linebox=0pt%
    \setbox\beamer@linebox=\vbox{\box\beamer@linebox\vskip1.125ex}%
    {\color{#1}\hskip-\Gm@lmargin\vrule width\paperwidth
      height\ht\beamer@linebox\hskip-\paperwidth\hskip\Gm@lmargin}%
    \box\beamer@linebox}%
  }
\long\def\beamer@colouredline#1#2{%
  \hbox{%
    \setbox\beamer@linebox=\vbox{\hbox to\textwidth{\hskip-\Gm@lmargin{#2}\hskip-\Gm@rmargin}}%
    {\color{#1}\hskip-\Gm@lmargin\vrule width\paperwidth
      height\ht\beamer@linebox\hskip-\paperwidth\hskip\Gm@lmargin}%
    \box\beamer@linebox}%
  }
\def\tinyline#1{%
  {\tiny\setbox\beamer@linebox=\hbox to\textwidth{\hskip-\Gm@lmargin\hskip0.3cm{#1}\hskip-\Gm@rmargin\hskip0.3cm}%
  \ht\beamer@linebox=2.06ex%
  \dp\beamer@linebox=0pt%
  \box\beamer@linebox%
  \vskip1.125ex}}
\def\tinycolouredline#1#2{%
  \hbox{\tiny%
    \setbox\beamer@linebox=\hbox to\textwidth{\hskip-\Gm@lmargin\hskip0.3cm{#2}\hskip-\Gm@rmargin\hskip0.3cm}%
    \ht\beamer@linebox=2.625ex%
    \dp\beamer@linebox=0pt%
    \setbox\beamer@linebox=\vbox{\box\beamer@linebox\vskip1.125ex}%
    {\color{#1}\hskip-\Gm@lmargin\vrule width\paperwidth
      height\ht\beamer@linebox\hskip-\paperwidth\hskip\Gm@lmargin}%
    \box\beamer@linebox}%
  }
\def\colouredline#1#2{%
  \hbox{%
    \setbox\beamer@linebox=\hbox to\textwidth{\hskip-\Gm@lmargin\hskip0.3cm{#2}\hskip-\Gm@rmargin\hskip0.3cm}%
    \setbox\beamer@linebox=\vbox{\vskip2pt\box\beamer@linebox\vskip2pt}%
    {\color{#1}\hskip-\Gm@lmargin\vrule width\paperwidth
      height\ht\beamer@linebox\hskip-\paperwidth\hskip\Gm@lmargin}%
    \box\beamer@linebox}%
  }
\def\beamerline#1{\hbox{\hskip-\Gm@lmargin#1\hskip-\Gm@rmargin}}
\def\insertvrule#1#2{\hbox{\color{#2}\hskip-\Gm@lmargin\vrule width \paperwidth height #1\hskip-\Gm@rmargin}}

\def\usetitlepagetemplate{\setbeamertemplate{title page}}
\def\usepartpagetemplate{\setbeamertemplate{part page}}
\def\useframetitletemplate{\setbeamertemplate{frametitle}}
\def\useitemizeitemtemplate{\setbeamertemplate{itemize item}}
\def\usesubitemizeitemtemplate{\setbeamertemplate{itemize subitem}}
\def\usesubsubitemizeitemtemplate{\setbeamertemplate{itemize subsubitem}}
\def\useenumerateitemtemplate{\setbeamertemplate{enumerate item}}
\def\usesubenumerateitemtemplate{\setbeamertemplate{enumerate subitem}}
\def\usesubsubenumerateitemtemplate{\setbeamertemplate{enumerate subsubitem}}
\def\useitemizetemplate#1#2{% before and after
  \setbeamertemplate{itemize/enumerate body begin}{#1}%
  \setbeamertemplate{itemize/enumerate body end}{#2}}
\def\usesubitemizetemplate#1#2{% before and after
  \setbeamertemplate{itemize/enumerate subbody begin}{#1}%
  \setbeamertemplate{itemize/enumerate subbody end}{#2}}
\def\usesubsubitemizetemplate#1#2{% before and after
  \setbeamertemplate{itemize/enumerate subsubbody begin}{#1}%
  \setbeamertemplate{itemize/enumerate subsubbody end}{#2}}
\def\useenumerateitemminitemplate{\setbeamertemplate{enumerate mini template}}
\let\useenumeratetemplate=\useitemizetemplate
\let\usesubenumeratetemplate=\usesubitemizetemplate
\let\usesubsubenumeratetemplate=\usesubsubitemizetemplate
\def\useleftsidebartemplate{\usesidebartemplate[left]}
\def\userightsidebartemplate{\usesidebartemplate[right]}
\def\useleftsidebarbackgroundtemplate{\usesidebarbackgroundtemplate[left]}
\def\userightsidebarbackgroundtemplate{\usesidebarbackgroundtemplate[right]}
\def\useleftsidebarcolortemplate#1{\usesidebarbackgroundtemplate[left]{#1\vrule height\paperheight
  width\csname beamer@leftsidebar\endcsname}}
\def\userightsidebarcolortemplate#1{\usesidebarbackgroundtemplate[right]{#1\vrule height\paperheight
  width\csname beamer@rightsidebar\endcsname}}
\def\useleftsidebarverticalshadingtemplate{\beamertemplatesidebarverticalshading[left]}
\def\userightsidebarverticalshadingtemplate{\beamertemplatesidebarverticalshading[right]}
\def\useleftsidebarhorizontalshadingtemplate{\beamertemplatesidebarhorizontalshading[left]}
\def\userightsidebarhorizontalshadingtemplate{\beamertemplatesidebarhorizontalshading[right]}
\def\usedescriptionitemtemplate#1#2{\setbeamertemplate{description item}{#1}\setbeamermargin{descriptionwidth={#2}}}
\def\usedescriptionitemofwidthas#1{\setbeamermargin{descriptionwidthof={#1}}}%
\def\usetemplatetocsection{\@ifnextchar[\@@usetemplatetocsection\@usetemplatetocsection}
\long\def\@@usetemplatetocsection[#1]#2{
  \@usetemplatetocsection{#2}{\begin{colormixin}{#1}#2\end{colormixin}\unskip}}
\long\def\@usetemplatetocsection#1#2{\setbeamertemplate{section in toc}{#1}
  \setbeamertemplate{section in toc shaded}{#2}}
\def\usetemplatetocsubsection{\@ifnextchar[\@@usetemplatetocsubsection\@usetemplatetocsubsection}
\long\def\@@usetemplatetocsubsection[#1]#2{
  \@usetemplatetocsubsection{#2}{\begin{colormixin}{#1}#2\end{colormixin}\unskip}}
\long\def\@usetemplatetocsubsection#1#2{\setbeamertemplate{subsection in toc}{#1}%
  \setbeamertemplate{subsection in toc shaded}{#2}}




\def\beamertemplatedefaulttoc{\setbeamertemplate{table of contents}[default]}
\def\beamertemplatenumberedsubsectiontoc{\setbeamertemplate{table of contents}[subsections numbered]}
\def\beamertemplatenumberedsectiontoc{\setbeamertemplate{table of contents}[sections numbered]}
\def\beamertemplatenumberedcirclesectiontoc{\setbeamertemplate{table of contents}[circle numbered]}
\def\beamertemplatenumberedsquaresectiontoc{\setbeamertemplate{table of contents}[square numbered]}
\def\beamertemplatenumberedballsectiontoc{\setbeamertemplate{table of contents}[ball numbered]}
\def\beamertemplateballtoc{\setbeamertemplate{table of contents}[ball]}
\def\beamertemplatedotitem{\setbeamertemplate{itemize items}[circle]}
\def\beamertemplatetriangleitem{\setbeamertemplate{itemize items}[default]}
\def\beamertemplatesquareitem{\setbeamertemplate{itemize items}[square]}
\def\beamertemplateballitem{\setbeamertemplate{items}[ball]}
\def\beamertemplateenumeratealpha{\setbeamerfont{enumerate items}[default]}
\def\beamertemplateenumeratecircle{\setbeamertemplate{enumerate items}[circle]}
\def\beamertemplateenumeratesquare{\setbeamertemplate{enumerate items}[square]}
\def\beamertemplatelargepartpage{\setbeamertemplate{part page}[default]}
\def\beamertemplateboldpartpage{\setbeamerfont{part}{size=\large}%
  \setbeamerfont{partname}{series=\bfseries}%
  \setbeamertemplate{part page}[default]}
\def\beamertemplatelargetitlepage{\setbeamertemplate{title page}[default]}
\def\beamertemplateboldtitlepage{\setbeamerfont{title}{size=\large,series=\bfseries}%
  \setbeamertemplate{title page}[default]}
\def\beamertemplateboldcenterframetitle{\setbeamerfont{frametitle}{size={},series=\bfseries}
  \setbeamerfont{framesubtitle}{series=\bfseries}
  \setbeamertemplate{frametitle}[default][center]}
\def\beamertemplateboldframetitle{\setbeamerfont{frametitle}{series=\bfseries}
  \setbeamerfont{framesubtitle}{series=\bfseries}
  \setbeamertemplate{frametitle}[default]}
\def\beamertemplatelargeframetitle{\setbeamertemplate{frametitle}[default]}
\def\beamertemplateboldblocks{\setbeamerfont{block title}{size={},series=\bfseries}\beamertemplatedefaultblocks}
\def\beamertemplatelargeblocks{\beamertemplatedefaultblocks}
\def\beamertemplateshadowblocks{\beamertemplateroundedblocks[shadow=true]}
\def\beamertemplateplaintoc{\beamertemplatedefaulttoc}
\def\beamertemplatecircleminiframeinverted{\beamertemplatecircleminiframe%
  \usebeamercolor{mini frames}{use=structure,fg=white,bg=structure.bg}}
\def\beamertemplatesphereminiframe{\beamertemplatecircleminiframe}
\def\beamertemplatesphereminiframeinverted{\beamertemplatecircleminiframeinverted}
\def\beamertemplatelightsectionheads{\usesectionheadtemplate{\hfill\insertsectionhead}{\hfill\color{fg!50!bg}\insertsectionhead} 
 \usesubsectionheadtemplate{\insertsubsectionhead}{\color{fg!50!bg}\insertsubsectionhead}}
\let\beamertemplatedarksectionheads=\beamertemplatedefaultsectionheads
\def\usecontinuationtemplate{\setbeamertemplate{frametitle continuation}}
\def\beamertemplatecontinuationroman{\setbeamertemplate{frametitle continuation}[default]}
\def\beamertemplatecontinuationtext{\setbeamertemplate{frametitle continuation}[from second]}

\mode
<all>
{
  \long\def\useframetemplate#1#2{\setbeamertemplate{frame begin}{#1}\setbeamertemplate{frame end}{#2}}
  \def\usebackgroundtemplate{\setbeamertemplate{background canvas}}
  \def\beamertemplatesolidbackgroundcolor#1{\setbeamercolor{normal text}{bg=#1}}
  \newcommand{\beamertemplategridbackground}[1][]{\setbeamertemplate{background}[grid][step=#1]}
  \newcommand{\beamertemplateshadingbackground}[2]{\setbeamertemplate{background canvas}[vertical shading][bottom=#1,top=#2]}
}

\mode
<all>

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: ../examples/beamerexample1.tex
%%% End: 
